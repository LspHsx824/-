{"ast":null,"code":"import \"core-js/modules/es.number.to-fixed.js\";\nimport \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.symbol.description.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport { createNamespace } from '../utils';\nimport { RED } from '../utils/constant';\nimport { padZero } from '../utils/format/string';\nimport Checkbox from '../checkbox';\n\nvar _createNamespace = createNamespace('coupon'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1],\n    t = _createNamespace[2];\n\nfunction formatTimeStamp(timeStamp) {\n  // compatible when the timestamp is seconds\n  if (timeStamp < Math.pow(10, 12)) {\n    return timeStamp * 1000;\n  }\n\n  return +timeStamp;\n}\n\nfunction getDate(timeStamp) {\n  var date = new Date(formatTimeStamp(timeStamp));\n  return date.getFullYear() + \".\" + padZero(date.getMonth() + 1) + \".\" + padZero(date.getDate());\n}\n\nfunction formatDiscount(discount) {\n  return (discount / 10).toFixed(discount % 10 === 0 ? 0 : 1);\n}\n\nfunction formatAmount(amount) {\n  return (amount / 100).toFixed(amount % 100 === 0 ? 0 : amount % 10 === 0 ? 1 : 2);\n}\n\nexport default createComponent({\n  props: {\n    coupon: Object,\n    chosen: Boolean,\n    disabled: Boolean,\n    currency: {\n      type: String,\n      default: '¥'\n    }\n  },\n  computed: {\n    validPeriod: function validPeriod() {\n      var _this$coupon = this.coupon,\n          startAt = _this$coupon.startAt,\n          endAt = _this$coupon.endAt,\n          customValidPeriod = _this$coupon.customValidPeriod;\n      return customValidPeriod || getDate(startAt) + \" - \" + getDate(endAt);\n    },\n    faceAmount: function faceAmount() {\n      var coupon = this.coupon;\n\n      if (coupon.valueDesc) {\n        return coupon.valueDesc + \"<span>\" + (coupon.unitDesc || '') + \"</span>\";\n      }\n\n      if (coupon.denominations) {\n        var denominations = formatAmount(coupon.denominations);\n        return \"<span>\" + this.currency + \"</span> \" + denominations;\n      }\n\n      if (coupon.discount) {\n        return t('discount', formatDiscount(coupon.discount));\n      }\n\n      return '';\n    },\n    conditionMessage: function conditionMessage() {\n      var condition = formatAmount(this.coupon.originCondition);\n      return condition === '0' ? t('unlimited') : t('condition', condition);\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    var coupon = this.coupon,\n        disabled = this.disabled;\n    var description = disabled && coupon.reason || coupon.description;\n    return h(\"div\", {\n      \"class\": bem({\n        disabled: disabled\n      })\n    }, [h(\"div\", {\n      \"class\": bem('content')\n    }, [h(\"div\", {\n      \"class\": bem('head')\n    }, [h(\"h2\", {\n      \"class\": bem('amount'),\n      \"domProps\": {\n        \"innerHTML\": this.faceAmount\n      }\n    }), h(\"p\", {\n      \"class\": bem('condition')\n    }, [this.coupon.condition || this.conditionMessage])]), h(\"div\", {\n      \"class\": bem('body')\n    }, [h(\"p\", {\n      \"class\": bem('name')\n    }, [coupon.name]), h(\"p\", {\n      \"class\": bem('valid')\n    }, [this.validPeriod]), !this.disabled && h(Checkbox, {\n      \"attrs\": {\n        \"size\": 18,\n        \"value\": this.chosen,\n        \"checkedColor\": RED\n      },\n      \"class\": bem('corner')\n    })])]), description && h(\"p\", {\n      \"class\": bem('description')\n    }, [description])]);\n  }\n});","map":{"version":3,"sources":["C:/Users/Lisp/Desktop/items/node_modules/vant/es/coupon/index.js"],"names":["createNamespace","RED","padZero","Checkbox","_createNamespace","createComponent","bem","t","formatTimeStamp","timeStamp","Math","pow","getDate","date","Date","getFullYear","getMonth","formatDiscount","discount","toFixed","formatAmount","amount","props","coupon","Object","chosen","Boolean","disabled","currency","type","String","default","computed","validPeriod","_this$coupon","startAt","endAt","customValidPeriod","faceAmount","valueDesc","unitDesc","denominations","conditionMessage","condition","originCondition","render","h","arguments","description","reason","name"],"mappings":"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","sourcesContent":["import { createNamespace } from '../utils';\nimport { RED } from '../utils/constant';\nimport { padZero } from '../utils/format/string';\nimport Checkbox from '../checkbox';\n\nvar _createNamespace = createNamespace('coupon'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1],\n    t = _createNamespace[2];\n\nfunction formatTimeStamp(timeStamp) {\n  // compatible when the timestamp is seconds\n  if (timeStamp < Math.pow(10, 12)) {\n    return timeStamp * 1000;\n  }\n\n  return +timeStamp;\n}\n\nfunction getDate(timeStamp) {\n  var date = new Date(formatTimeStamp(timeStamp));\n  return date.getFullYear() + \".\" + padZero(date.getMonth() + 1) + \".\" + padZero(date.getDate());\n}\n\nfunction formatDiscount(discount) {\n  return (discount / 10).toFixed(discount % 10 === 0 ? 0 : 1);\n}\n\nfunction formatAmount(amount) {\n  return (amount / 100).toFixed(amount % 100 === 0 ? 0 : amount % 10 === 0 ? 1 : 2);\n}\n\nexport default createComponent({\n  props: {\n    coupon: Object,\n    chosen: Boolean,\n    disabled: Boolean,\n    currency: {\n      type: String,\n      default: '¥'\n    }\n  },\n  computed: {\n    validPeriod: function validPeriod() {\n      var _this$coupon = this.coupon,\n          startAt = _this$coupon.startAt,\n          endAt = _this$coupon.endAt,\n          customValidPeriod = _this$coupon.customValidPeriod;\n      return customValidPeriod || getDate(startAt) + \" - \" + getDate(endAt);\n    },\n    faceAmount: function faceAmount() {\n      var coupon = this.coupon;\n\n      if (coupon.valueDesc) {\n        return coupon.valueDesc + \"<span>\" + (coupon.unitDesc || '') + \"</span>\";\n      }\n\n      if (coupon.denominations) {\n        var denominations = formatAmount(coupon.denominations);\n        return \"<span>\" + this.currency + \"</span> \" + denominations;\n      }\n\n      if (coupon.discount) {\n        return t('discount', formatDiscount(coupon.discount));\n      }\n\n      return '';\n    },\n    conditionMessage: function conditionMessage() {\n      var condition = formatAmount(this.coupon.originCondition);\n      return condition === '0' ? t('unlimited') : t('condition', condition);\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    var coupon = this.coupon,\n        disabled = this.disabled;\n    var description = disabled && coupon.reason || coupon.description;\n    return h(\"div\", {\n      \"class\": bem({\n        disabled: disabled\n      })\n    }, [h(\"div\", {\n      \"class\": bem('content')\n    }, [h(\"div\", {\n      \"class\": bem('head')\n    }, [h(\"h2\", {\n      \"class\": bem('amount'),\n      \"domProps\": {\n        \"innerHTML\": this.faceAmount\n      }\n    }), h(\"p\", {\n      \"class\": bem('condition')\n    }, [this.coupon.condition || this.conditionMessage])]), h(\"div\", {\n      \"class\": bem('body')\n    }, [h(\"p\", {\n      \"class\": bem('name')\n    }, [coupon.name]), h(\"p\", {\n      \"class\": bem('valid')\n    }, [this.validPeriod]), !this.disabled && h(Checkbox, {\n      \"attrs\": {\n        \"size\": 18,\n        \"value\": this.chosen,\n        \"checkedColor\": RED\n      },\n      \"class\": bem('corner')\n    })])]), description && h(\"p\", {\n      \"class\": bem('description')\n    }, [description])]);\n  }\n});"]},"metadata":{},"sourceType":"module"}