{"ast":null,"code":"import \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.string.fixed.js\";\nimport { isHidden } from '../utils/dom/style';\nimport { unitToPx } from '../utils/format/unit';\nimport { createNamespace, isDef, isServer } from '../utils';\nimport { getScrollTop, getElementTop, getScroller } from '../utils/dom/scroll';\nimport { BindEventMixin } from '../mixins/bind-event';\n\nvar _createNamespace = createNamespace('sticky'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  mixins: [BindEventMixin(function (bind, isBind) {\n    if (!this.scroller) {\n      this.scroller = getScroller(this.$el);\n    }\n\n    if (this.observer) {\n      var method = isBind ? 'observe' : 'unobserve';\n      this.observer[method](this.$el);\n    }\n\n    bind(this.scroller, 'scroll', this.onScroll, true);\n    this.onScroll();\n  })],\n  props: {\n    zIndex: [Number, String],\n    container: null,\n    offsetTop: {\n      type: [Number, String],\n      default: 0\n    }\n  },\n  data: function data() {\n    return {\n      fixed: false,\n      height: 0,\n      transform: 0\n    };\n  },\n  computed: {\n    offsetTopPx: function offsetTopPx() {\n      return unitToPx(this.offsetTop);\n    },\n    style: function style() {\n      if (!this.fixed) {\n        return;\n      }\n\n      var style = {};\n\n      if (isDef(this.zIndex)) {\n        style.zIndex = this.zIndex;\n      }\n\n      if (this.offsetTopPx && this.fixed) {\n        style.top = this.offsetTopPx + \"px\";\n      }\n\n      if (this.transform) {\n        style.transform = \"translate3d(0, \" + this.transform + \"px, 0)\";\n      }\n\n      return style;\n    }\n  },\n  watch: {\n    fixed: function fixed(isFixed) {\n      this.$emit('change', isFixed);\n    }\n  },\n  created: function created() {\n    var _this = this; // compatibility: https://caniuse.com/#feat=intersectionobserver\n\n\n    if (!isServer && window.IntersectionObserver) {\n      this.observer = new IntersectionObserver(function (entries) {\n        // trigger scroll when visibility changed\n        if (entries[0].intersectionRatio > 0) {\n          _this.onScroll();\n        }\n      }, {\n        root: document.body\n      });\n    }\n  },\n  methods: {\n    onScroll: function onScroll() {\n      var _this2 = this;\n\n      if (isHidden(this.$el)) {\n        return;\n      }\n\n      this.height = this.$el.offsetHeight;\n      var container = this.container,\n          offsetTopPx = this.offsetTopPx;\n      var scrollTop = getScrollTop(window);\n      var topToPageTop = getElementTop(this.$el);\n\n      var emitScrollEvent = function emitScrollEvent() {\n        _this2.$emit('scroll', {\n          scrollTop: scrollTop,\n          isFixed: _this2.fixed\n        });\n      }; // The sticky component should be kept inside the container element\n\n\n      if (container) {\n        var bottomToPageTop = topToPageTop + container.offsetHeight;\n\n        if (scrollTop + offsetTopPx + this.height > bottomToPageTop) {\n          var distanceToBottom = this.height + scrollTop - bottomToPageTop;\n\n          if (distanceToBottom < this.height) {\n            this.fixed = true;\n            this.transform = -(distanceToBottom + offsetTopPx);\n          } else {\n            this.fixed = false;\n          }\n\n          emitScrollEvent();\n          return;\n        }\n      }\n\n      if (scrollTop + offsetTopPx > topToPageTop) {\n        this.fixed = true;\n        this.transform = 0;\n      } else {\n        this.fixed = false;\n      }\n\n      emitScrollEvent();\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    var fixed = this.fixed;\n    var style = {\n      height: fixed ? this.height + \"px\" : null\n    };\n    return h(\"div\", {\n      \"style\": style\n    }, [h(\"div\", {\n      \"class\": bem({\n        fixed: fixed\n      }),\n      \"style\": this.style\n    }, [this.slots()])]);\n  }\n});","map":{"version":3,"sources":["C:/Users/Lisp/Desktop/Vue-app/items/node_modules/vant/es/sticky/index.js"],"names":["isHidden","unitToPx","createNamespace","isDef","isServer","getScrollTop","getElementTop","getScroller","BindEventMixin","_createNamespace","createComponent","bem","mixins","bind","isBind","scroller","$el","observer","method","onScroll","props","zIndex","Number","String","container","offsetTop","type","default","data","fixed","height","transform","computed","offsetTopPx","style","top","watch","isFixed","$emit","created","_this","window","IntersectionObserver","entries","intersectionRatio","root","document","body","methods","_this2","offsetHeight","scrollTop","topToPageTop","emitScrollEvent","bottomToPageTop","distanceToBottom","render","h","arguments","slots"],"mappings":"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","sourcesContent":["import { isHidden } from '../utils/dom/style';\nimport { unitToPx } from '../utils/format/unit';\nimport { createNamespace, isDef, isServer } from '../utils';\nimport { getScrollTop, getElementTop, getScroller } from '../utils/dom/scroll';\nimport { BindEventMixin } from '../mixins/bind-event';\n\nvar _createNamespace = createNamespace('sticky'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  mixins: [BindEventMixin(function (bind, isBind) {\n    if (!this.scroller) {\n      this.scroller = getScroller(this.$el);\n    }\n\n    if (this.observer) {\n      var method = isBind ? 'observe' : 'unobserve';\n      this.observer[method](this.$el);\n    }\n\n    bind(this.scroller, 'scroll', this.onScroll, true);\n    this.onScroll();\n  })],\n  props: {\n    zIndex: [Number, String],\n    container: null,\n    offsetTop: {\n      type: [Number, String],\n      default: 0\n    }\n  },\n  data: function data() {\n    return {\n      fixed: false,\n      height: 0,\n      transform: 0\n    };\n  },\n  computed: {\n    offsetTopPx: function offsetTopPx() {\n      return unitToPx(this.offsetTop);\n    },\n    style: function style() {\n      if (!this.fixed) {\n        return;\n      }\n\n      var style = {};\n\n      if (isDef(this.zIndex)) {\n        style.zIndex = this.zIndex;\n      }\n\n      if (this.offsetTopPx && this.fixed) {\n        style.top = this.offsetTopPx + \"px\";\n      }\n\n      if (this.transform) {\n        style.transform = \"translate3d(0, \" + this.transform + \"px, 0)\";\n      }\n\n      return style;\n    }\n  },\n  watch: {\n    fixed: function fixed(isFixed) {\n      this.$emit('change', isFixed);\n    }\n  },\n  created: function created() {\n    var _this = this;\n\n    // compatibility: https://caniuse.com/#feat=intersectionobserver\n    if (!isServer && window.IntersectionObserver) {\n      this.observer = new IntersectionObserver(function (entries) {\n        // trigger scroll when visibility changed\n        if (entries[0].intersectionRatio > 0) {\n          _this.onScroll();\n        }\n      }, {\n        root: document.body\n      });\n    }\n  },\n  methods: {\n    onScroll: function onScroll() {\n      var _this2 = this;\n\n      if (isHidden(this.$el)) {\n        return;\n      }\n\n      this.height = this.$el.offsetHeight;\n      var container = this.container,\n          offsetTopPx = this.offsetTopPx;\n      var scrollTop = getScrollTop(window);\n      var topToPageTop = getElementTop(this.$el);\n\n      var emitScrollEvent = function emitScrollEvent() {\n        _this2.$emit('scroll', {\n          scrollTop: scrollTop,\n          isFixed: _this2.fixed\n        });\n      }; // The sticky component should be kept inside the container element\n\n\n      if (container) {\n        var bottomToPageTop = topToPageTop + container.offsetHeight;\n\n        if (scrollTop + offsetTopPx + this.height > bottomToPageTop) {\n          var distanceToBottom = this.height + scrollTop - bottomToPageTop;\n\n          if (distanceToBottom < this.height) {\n            this.fixed = true;\n            this.transform = -(distanceToBottom + offsetTopPx);\n          } else {\n            this.fixed = false;\n          }\n\n          emitScrollEvent();\n          return;\n        }\n      }\n\n      if (scrollTop + offsetTopPx > topToPageTop) {\n        this.fixed = true;\n        this.transform = 0;\n      } else {\n        this.fixed = false;\n      }\n\n      emitScrollEvent();\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    var fixed = this.fixed;\n    var style = {\n      height: fixed ? this.height + \"px\" : null\n    };\n    return h(\"div\", {\n      \"style\": style\n    }, [h(\"div\", {\n      \"class\": bem({\n        fixed: fixed\n      }),\n      \"style\": this.style\n    }, [this.slots()])]);\n  }\n});"]},"metadata":{},"sourceType":"module"}