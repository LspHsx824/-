{"ast":null,"code":"import \"core-js/modules/es.string.trim.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\"; // Utils\n\nimport { createNamespace } from '../utils';\nimport { isMobile } from '../utils/validate/mobile'; // Components\n\nimport Cell from '../cell';\nimport Field from '../field';\nimport Button from '../button';\nimport Dialog from '../dialog';\nimport Switch from '../switch';\n\nvar _createNamespace = createNamespace('contact-edit'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1],\n    t = _createNamespace[2];\n\nvar defaultContact = {\n  tel: '',\n  name: ''\n};\nexport default createComponent({\n  props: {\n    isEdit: Boolean,\n    isSaving: Boolean,\n    isDeleting: Boolean,\n    showSetDefault: Boolean,\n    setDefaultLabel: String,\n    contactInfo: {\n      type: Object,\n      default: function _default() {\n        return _extends({}, defaultContact);\n      }\n    },\n    telValidator: {\n      type: Function,\n      default: isMobile\n    }\n  },\n  data: function data() {\n    return {\n      data: _extends({}, defaultContact, this.contactInfo),\n      errorInfo: {\n        name: '',\n        tel: ''\n      }\n    };\n  },\n  watch: {\n    contactInfo: function contactInfo(val) {\n      this.data = _extends({}, defaultContact, val);\n    }\n  },\n  methods: {\n    onFocus: function onFocus(key) {\n      this.errorInfo[key] = '';\n    },\n    getErrorMessageByKey: function getErrorMessageByKey(key) {\n      var value = this.data[key].trim();\n\n      switch (key) {\n        case 'name':\n          return value ? '' : t('nameInvalid');\n\n        case 'tel':\n          return this.telValidator(value) ? '' : t('telInvalid');\n      }\n    },\n    onSave: function onSave() {\n      var _this = this;\n\n      var isValid = ['name', 'tel'].every(function (item) {\n        var msg = _this.getErrorMessageByKey(item);\n\n        if (msg) {\n          _this.errorInfo[item] = msg;\n        }\n\n        return !msg;\n      });\n\n      if (isValid && !this.isSaving) {\n        this.$emit('save', this.data);\n      }\n    },\n    onDelete: function onDelete() {\n      var _this2 = this;\n\n      Dialog.confirm({\n        title: t('confirmDelete')\n      }).then(function () {\n        _this2.$emit('delete', _this2.data);\n      });\n    }\n  },\n  render: function render() {\n    var _this3 = this;\n\n    var h = arguments[0];\n    var data = this.data,\n        errorInfo = this.errorInfo;\n\n    var onFocus = function onFocus(name) {\n      return function () {\n        return _this3.onFocus(name);\n      };\n    };\n\n    return h(\"div\", {\n      \"class\": bem()\n    }, [h(\"div\", {\n      \"class\": bem('fields')\n    }, [h(Field, {\n      \"attrs\": {\n        \"clearable\": true,\n        \"maxlength\": \"30\",\n        \"label\": t('name'),\n        \"placeholder\": t('nameEmpty'),\n        \"errorMessage\": errorInfo.name\n      },\n      \"on\": {\n        \"focus\": onFocus('name')\n      },\n      \"model\": {\n        value: data.name,\n        callback: function callback($$v) {\n          _this3.$set(data, \"name\", $$v);\n        }\n      }\n    }), h(Field, {\n      \"attrs\": {\n        \"clearable\": true,\n        \"type\": \"tel\",\n        \"label\": t('tel'),\n        \"placeholder\": t('telEmpty'),\n        \"errorMessage\": errorInfo.tel\n      },\n      \"on\": {\n        \"focus\": onFocus('tel')\n      },\n      \"model\": {\n        value: data.tel,\n        callback: function callback($$v) {\n          _this3.$set(data, \"tel\", $$v);\n        }\n      }\n    })]), this.showSetDefault && h(Cell, {\n      \"attrs\": {\n        \"title\": this.setDefaultLabel,\n        \"border\": false\n      },\n      \"class\": bem('switch-cell')\n    }, [h(Switch, {\n      \"attrs\": {\n        \"size\": 24\n      },\n      \"slot\": \"right-icon\",\n      \"on\": {\n        \"change\": function change(event) {\n          _this3.$emit('change-default', event);\n        }\n      },\n      \"model\": {\n        value: data.isDefault,\n        callback: function callback($$v) {\n          _this3.$set(data, \"isDefault\", $$v);\n        }\n      }\n    })]), h(\"div\", {\n      \"class\": bem('buttons')\n    }, [h(Button, {\n      \"attrs\": {\n        \"block\": true,\n        \"round\": true,\n        \"type\": \"danger\",\n        \"text\": t('save'),\n        \"loading\": this.isSaving\n      },\n      \"on\": {\n        \"click\": this.onSave\n      }\n    }), this.isEdit && h(Button, {\n      \"attrs\": {\n        \"block\": true,\n        \"round\": true,\n        \"text\": t('delete'),\n        \"loading\": this.isDeleting\n      },\n      \"on\": {\n        \"click\": this.onDelete\n      }\n    })])]);\n  }\n});","map":{"version":3,"sources":["C:/Users/Lisp/Desktop/items/node_modules/vant/es/contact-edit/index.js"],"names":["_extends","createNamespace","isMobile","Cell","Field","Button","Dialog","Switch","_createNamespace","createComponent","bem","t","defaultContact","tel","name","props","isEdit","Boolean","isSaving","isDeleting","showSetDefault","setDefaultLabel","String","contactInfo","type","Object","default","_default","telValidator","Function","data","errorInfo","watch","val","methods","onFocus","key","getErrorMessageByKey","value","trim","onSave","_this","isValid","every","item","msg","$emit","onDelete","_this2","confirm","title","then","render","_this3","h","arguments","callback","$$v","$set","change","event","isDefault"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\n// Utils\nimport { createNamespace } from '../utils';\nimport { isMobile } from '../utils/validate/mobile'; // Components\n\nimport Cell from '../cell';\nimport Field from '../field';\nimport Button from '../button';\nimport Dialog from '../dialog';\nimport Switch from '../switch';\n\nvar _createNamespace = createNamespace('contact-edit'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1],\n    t = _createNamespace[2];\n\nvar defaultContact = {\n  tel: '',\n  name: ''\n};\nexport default createComponent({\n  props: {\n    isEdit: Boolean,\n    isSaving: Boolean,\n    isDeleting: Boolean,\n    showSetDefault: Boolean,\n    setDefaultLabel: String,\n    contactInfo: {\n      type: Object,\n      default: function _default() {\n        return _extends({}, defaultContact);\n      }\n    },\n    telValidator: {\n      type: Function,\n      default: isMobile\n    }\n  },\n  data: function data() {\n    return {\n      data: _extends({}, defaultContact, this.contactInfo),\n      errorInfo: {\n        name: '',\n        tel: ''\n      }\n    };\n  },\n  watch: {\n    contactInfo: function contactInfo(val) {\n      this.data = _extends({}, defaultContact, val);\n    }\n  },\n  methods: {\n    onFocus: function onFocus(key) {\n      this.errorInfo[key] = '';\n    },\n    getErrorMessageByKey: function getErrorMessageByKey(key) {\n      var value = this.data[key].trim();\n\n      switch (key) {\n        case 'name':\n          return value ? '' : t('nameInvalid');\n\n        case 'tel':\n          return this.telValidator(value) ? '' : t('telInvalid');\n      }\n    },\n    onSave: function onSave() {\n      var _this = this;\n\n      var isValid = ['name', 'tel'].every(function (item) {\n        var msg = _this.getErrorMessageByKey(item);\n\n        if (msg) {\n          _this.errorInfo[item] = msg;\n        }\n\n        return !msg;\n      });\n\n      if (isValid && !this.isSaving) {\n        this.$emit('save', this.data);\n      }\n    },\n    onDelete: function onDelete() {\n      var _this2 = this;\n\n      Dialog.confirm({\n        title: t('confirmDelete')\n      }).then(function () {\n        _this2.$emit('delete', _this2.data);\n      });\n    }\n  },\n  render: function render() {\n    var _this3 = this;\n\n    var h = arguments[0];\n    var data = this.data,\n        errorInfo = this.errorInfo;\n\n    var onFocus = function onFocus(name) {\n      return function () {\n        return _this3.onFocus(name);\n      };\n    };\n\n    return h(\"div\", {\n      \"class\": bem()\n    }, [h(\"div\", {\n      \"class\": bem('fields')\n    }, [h(Field, {\n      \"attrs\": {\n        \"clearable\": true,\n        \"maxlength\": \"30\",\n        \"label\": t('name'),\n        \"placeholder\": t('nameEmpty'),\n        \"errorMessage\": errorInfo.name\n      },\n      \"on\": {\n        \"focus\": onFocus('name')\n      },\n      \"model\": {\n        value: data.name,\n        callback: function callback($$v) {\n          _this3.$set(data, \"name\", $$v);\n        }\n      }\n    }), h(Field, {\n      \"attrs\": {\n        \"clearable\": true,\n        \"type\": \"tel\",\n        \"label\": t('tel'),\n        \"placeholder\": t('telEmpty'),\n        \"errorMessage\": errorInfo.tel\n      },\n      \"on\": {\n        \"focus\": onFocus('tel')\n      },\n      \"model\": {\n        value: data.tel,\n        callback: function callback($$v) {\n          _this3.$set(data, \"tel\", $$v);\n        }\n      }\n    })]), this.showSetDefault && h(Cell, {\n      \"attrs\": {\n        \"title\": this.setDefaultLabel,\n        \"border\": false\n      },\n      \"class\": bem('switch-cell')\n    }, [h(Switch, {\n      \"attrs\": {\n        \"size\": 24\n      },\n      \"slot\": \"right-icon\",\n      \"on\": {\n        \"change\": function change(event) {\n          _this3.$emit('change-default', event);\n        }\n      },\n      \"model\": {\n        value: data.isDefault,\n        callback: function callback($$v) {\n          _this3.$set(data, \"isDefault\", $$v);\n        }\n      }\n    })]), h(\"div\", {\n      \"class\": bem('buttons')\n    }, [h(Button, {\n      \"attrs\": {\n        \"block\": true,\n        \"round\": true,\n        \"type\": \"danger\",\n        \"text\": t('save'),\n        \"loading\": this.isSaving\n      },\n      \"on\": {\n        \"click\": this.onSave\n      }\n    }), this.isEdit && h(Button, {\n      \"attrs\": {\n        \"block\": true,\n        \"round\": true,\n        \"text\": t('delete'),\n        \"loading\": this.isDeleting\n      },\n      \"on\": {\n        \"click\": this.onDelete\n      }\n    })])]);\n  }\n});"]},"metadata":{},"sourceType":"module"}