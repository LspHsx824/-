{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/Lisp/Desktop/items/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"regenerator-runtime/runtime.js\";\nimport \"core-js/modules/es.number.constructor.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { changeusermessage } from \"@/api/users\";\nexport default {\n  props: {\n    value: {\n      type: Number,\n      require: true\n    }\n  },\n  data: function data() {\n    return {\n      columns: [\"男\", \"女\"],\n      localGender: this.value\n    };\n  },\n  methods: {\n    confirm: function confirm() {\n      var _this = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _this.$toast.loading({\n                  message: \"保存中...\",\n                  forbidClick: true,\n                  // 静止背景点击\n                  duration: 0\n                });\n\n                _context.prev = 1;\n                _context.next = 4;\n                return changeusermessage({\n                  gender: _this.localGender\n                });\n\n              case 4:\n                _this.$emit(\"input\", localGender);\n\n                _this.$emit(\"close\");\n\n                _this.$toast.success(\"修改成功\");\n\n                _context.next = 12;\n                break;\n\n              case 9:\n                _context.prev = 9;\n                _context.t0 = _context[\"catch\"](1);\n\n                _this.$toast.fail(\"修改失败，请重试\");\n\n              case 12:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[1, 9]]);\n      }))();\n    },\n    onPickerChange: function onPickerChange(picker, value, index) {\n      this.localGender = index;\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;AAgBA;AACA;AACAA;AACAC;AACAC,kBADA;AAEAC;AAFA;AADA,GADA;AAOAC,MAPA,kBAOA;AACA;AACAC,yBADA;AAEAC;AAFA;AAIA,GAZA;AAaAC;AACAC,WADA,qBACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACAC,mCADA;AAEAC,mCAFA;AAEA;AACAC;AAHA;;AADA;AAAA;AAAA,uBAOAC;AACAC;AADA,kBAPA;;AAAA;AAUA;;AACA;;AACA;;AAZA;AAAA;;AAAA;AAAA;AAAA;;AAcA;;AAdA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgBA,KAjBA;AAkBAC,kBAlBA,0BAkBAC,MAlBA,EAkBAd,KAlBA,EAkBAe,KAlBA,EAkBA;AACA;AACA;AApBA;AAbA","names":["props","value","type","require","data","columns","localGender","methods","confirm","message","forbidClick","duration","changeusermessage","gender","onPickerChange","picker","index"],"sourceRoot":"src/views/userProfile/components","sources":["updateGender.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <van-picker\r\n      show-toolbar\r\n      title=\"标题\"\r\n      :columns=\"columns\"\r\n      :default-index=\"value\"\r\n      @cancel=\"$emit('close')\"\r\n      @confirm=\"onConfirm\"\r\n      @change=\"onPickerChange\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { changeusermessage } from \"@/api/users\"\r\nexport default {\r\n  props: {\r\n    value: {\r\n      type: Number,\r\n      require: true,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      columns: [\"男\", \"女\"],\r\n      localGender:this.value\r\n    };\r\n  },\r\n  methods:{\r\n     async confirm (){\r\n          this.$toast.loading({\r\n            message:\"保存中...\",\r\n            forbidClick:true, // 静止背景点击\r\n            duration:0 \r\n          })\r\n          try{\r\n            await changeusermessage({\r\n              gender:this.localGender\r\n            })\r\n            this.$emit(\"input\",localGender)\r\n            this.$emit(\"close\")\r\n            this.$toast.success(\"修改成功\")\r\n          }catch(err){\r\n            this.$toast.fail(\"修改失败，请重试\")\r\n          }\r\n     },\r\n     onPickerChange(picker,value,index){\r\n         this.localGender = index\r\n     } \r\n  }\r\n};\r\n</script>\r\n\r\n<style></style>\r\n"]},"metadata":{},"sourceType":"module"}