{"ast":null,"code":"import \"core-js/modules/es.object.to-string.js\";\nimport axios from \"axios\";\nimport store from \"../store\";\nexport var request = axios.create({\n  baseURL: \"http://www.liulongbin.top:8000\"\n}); // 请求拦截器\n// http request 拦截器\n\nrequest.interceptors.request.use(function (config) {\n  var user = store.state.user;\n\n  if (user && user.token) {\n    config.headers.Authorization = \"Bearer \".concat(user.token);\n  }\n\n  return config;\n}, function (err) {\n  return Promise.reject(err);\n});","map":{"version":3,"sources":["C:/Users/Lisp/Desktop/items/src/utils/request.js"],"names":["axios","store","request","create","baseURL","interceptors","use","config","user","state","token","headers","Authorization","err","Promise","reject"],"mappings":";AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,UAAlB;AAEA,OAAO,IAAMC,OAAO,GAAGF,KAAK,CAACG,MAAN,CAAa;AAChCC,EAAAA,OAAO,EAAC;AADwB,CAAb,CAAhB,C,CAIP;AACA;;AACAF,OAAO,CAACG,YAAR,CAAqBH,OAArB,CAA6BI,GAA7B,CAAiC,UAAUC,MAAV,EAAkB;AAE/C,MAAQC,IAAR,GAAiBP,KAAK,CAACQ,KAAvB,CAAQD,IAAR;;AACA,MAAIA,IAAI,IAAIA,IAAI,CAACE,KAAjB,EAAwB;AACtBH,IAAAA,MAAM,CAACI,OAAP,CAAeC,aAAf,oBAAyCJ,IAAI,CAACE,KAA9C;AACD;;AACD,SAAOH,MAAP;AACD,CAPH,EAQI,UAAAM,GAAG,EAAI;AACL,SAAOC,OAAO,CAACC,MAAR,CAAeF,GAAf,CAAP;AACD,CAVL","sourcesContent":["\r\nimport axios from \"axios\"\r\nimport store from \"../store\"\r\n\r\nexport const request = axios.create({\r\n    baseURL:\"http://www.liulongbin.top:8000\"\r\n})\r\n\r\n// 请求拦截器\r\n// http request 拦截器\r\nrequest.interceptors.request.use(function (config) {\r\n\r\n    const { user } = store.state\r\n    if (user && user.token) {\r\n      config.headers.Authorization = `Bearer ${user.token}`\r\n    }\r\n    return config\r\n  },\r\n    err => {\r\n      return Promise.reject(err)\r\n    })\r\n  "]},"metadata":{},"sourceType":"module"}