{"ast":null,"code":"import \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport { createNamespace } from '../utils';\nimport { sortChildren } from '../utils/vnodes';\n\nvar _createNamespace = createNamespace('form'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  props: {\n    colon: Boolean,\n    disabled: Boolean,\n    readonly: Boolean,\n    labelWidth: [Number, String],\n    labelAlign: String,\n    inputAlign: String,\n    scrollToError: Boolean,\n    validateFirst: Boolean,\n    errorMessageAlign: String,\n    submitOnEnter: {\n      type: Boolean,\n      default: true\n    },\n    validateTrigger: {\n      type: String,\n      default: 'onBlur'\n    },\n    showError: {\n      type: Boolean,\n      default: true\n    },\n    showErrorMessage: {\n      type: Boolean,\n      default: true\n    }\n  },\n  provide: function provide() {\n    return {\n      vanForm: this\n    };\n  },\n  data: function data() {\n    return {\n      fields: []\n    };\n  },\n  methods: {\n    getFieldsByNames: function getFieldsByNames(names) {\n      if (names) {\n        return this.fields.filter(function (field) {\n          return names.indexOf(field.name) !== -1;\n        });\n      }\n\n      return this.fields;\n    },\n    validateSeq: function validateSeq(names) {\n      var _this = this;\n\n      return new Promise(function (resolve, reject) {\n        var errors = [];\n\n        var fields = _this.getFieldsByNames(names);\n\n        fields.reduce(function (promise, field) {\n          return promise.then(function () {\n            if (!errors.length) {\n              return field.validate().then(function (error) {\n                if (error) {\n                  errors.push(error);\n                }\n              });\n            }\n          });\n        }, Promise.resolve()).then(function () {\n          if (errors.length) {\n            reject(errors);\n          } else {\n            resolve();\n          }\n        });\n      });\n    },\n    validateFields: function validateFields(names) {\n      var _this2 = this;\n\n      return new Promise(function (resolve, reject) {\n        var fields = _this2.getFieldsByNames(names);\n\n        Promise.all(fields.map(function (item) {\n          return item.validate();\n        })).then(function (errors) {\n          errors = errors.filter(function (item) {\n            return item;\n          });\n\n          if (errors.length) {\n            reject(errors);\n          } else {\n            resolve();\n          }\n        });\n      });\n    },\n    // @exposed-api\n    validate: function validate(name) {\n      if (name && !Array.isArray(name)) {\n        return this.validateField(name);\n      }\n\n      return this.validateFirst ? this.validateSeq(name) : this.validateFields(name);\n    },\n    validateField: function validateField(name) {\n      var matched = this.fields.filter(function (item) {\n        return item.name === name;\n      });\n\n      if (matched.length) {\n        return new Promise(function (resolve, reject) {\n          matched[0].validate().then(function (error) {\n            if (error) {\n              reject(error);\n            } else {\n              resolve();\n            }\n          });\n        });\n      }\n\n      return Promise.reject();\n    },\n    // @exposed-api\n    resetValidation: function resetValidation(name) {\n      if (name && !Array.isArray(name)) {\n        name = [name];\n      }\n\n      var fields = this.getFieldsByNames(name);\n      fields.forEach(function (item) {\n        item.resetValidation();\n      });\n    },\n    // @exposed-api\n    scrollToField: function scrollToField(name, options) {\n      this.fields.some(function (item) {\n        if (item.name === name) {\n          item.$el.scrollIntoView(options);\n          return true;\n        }\n\n        return false;\n      });\n    },\n    addField: function addField(field) {\n      this.fields.push(field);\n      sortChildren(this.fields, this);\n    },\n    removeField: function removeField(field) {\n      this.fields = this.fields.filter(function (item) {\n        return item !== field;\n      });\n    },\n    getValues: function getValues() {\n      return this.fields.reduce(function (form, field) {\n        form[field.name] = field.formValue;\n        return form;\n      }, {});\n    },\n    onSubmit: function onSubmit(event) {\n      event.preventDefault();\n      this.submit();\n    },\n    // @exposed-api\n    submit: function submit() {\n      var _this3 = this;\n\n      var values = this.getValues();\n      this.validate().then(function () {\n        _this3.$emit('submit', values);\n      }).catch(function (errors) {\n        _this3.$emit('failed', {\n          values: values,\n          errors: errors\n        });\n\n        if (_this3.scrollToError) {\n          _this3.scrollToField(errors[0].name);\n        }\n      });\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    return h(\"form\", {\n      \"class\": bem(),\n      \"on\": {\n        \"submit\": this.onSubmit\n      }\n    }, [this.slots()]);\n  }\n});","map":{"version":3,"sources":["C:/Users/Lisp/Desktop/Vue-app/items/node_modules/vant/es/form/index.js"],"names":["createNamespace","sortChildren","_createNamespace","createComponent","bem","props","colon","Boolean","disabled","readonly","labelWidth","Number","String","labelAlign","inputAlign","scrollToError","validateFirst","errorMessageAlign","submitOnEnter","type","default","validateTrigger","showError","showErrorMessage","provide","vanForm","data","fields","methods","getFieldsByNames","names","filter","field","indexOf","name","validateSeq","_this","Promise","resolve","reject","errors","reduce","promise","then","length","validate","error","push","validateFields","_this2","all","map","item","Array","isArray","validateField","matched","resetValidation","forEach","scrollToField","options","some","$el","scrollIntoView","addField","removeField","getValues","form","formValue","onSubmit","event","preventDefault","submit","_this3","values","$emit","catch","render","h","arguments","slots"],"mappings":";;;;;;;;AAAA,SAASA,eAAT,QAAgC,UAAhC;AACA,SAASC,YAAT,QAA6B,iBAA7B;;AAEA,IAAIC,gBAAgB,GAAGF,eAAe,CAAC,MAAD,CAAtC;AAAA,IACIG,eAAe,GAAGD,gBAAgB,CAAC,CAAD,CADtC;AAAA,IAEIE,GAAG,GAAGF,gBAAgB,CAAC,CAAD,CAF1B;;AAIA,eAAeC,eAAe,CAAC;AAC7BE,EAAAA,KAAK,EAAE;AACLC,IAAAA,KAAK,EAAEC,OADF;AAELC,IAAAA,QAAQ,EAAED,OAFL;AAGLE,IAAAA,QAAQ,EAAEF,OAHL;AAILG,IAAAA,UAAU,EAAE,CAACC,MAAD,EAASC,MAAT,CAJP;AAKLC,IAAAA,UAAU,EAAED,MALP;AAMLE,IAAAA,UAAU,EAAEF,MANP;AAOLG,IAAAA,aAAa,EAAER,OAPV;AAQLS,IAAAA,aAAa,EAAET,OARV;AASLU,IAAAA,iBAAiB,EAAEL,MATd;AAULM,IAAAA,aAAa,EAAE;AACbC,MAAAA,IAAI,EAAEZ,OADO;AAEba,MAAAA,OAAO,EAAE;AAFI,KAVV;AAcLC,IAAAA,eAAe,EAAE;AACfF,MAAAA,IAAI,EAAEP,MADS;AAEfQ,MAAAA,OAAO,EAAE;AAFM,KAdZ;AAkBLE,IAAAA,SAAS,EAAE;AACTH,MAAAA,IAAI,EAAEZ,OADG;AAETa,MAAAA,OAAO,EAAE;AAFA,KAlBN;AAsBLG,IAAAA,gBAAgB,EAAE;AAChBJ,MAAAA,IAAI,EAAEZ,OADU;AAEhBa,MAAAA,OAAO,EAAE;AAFO;AAtBb,GADsB;AA4B7BI,EAAAA,OAAO,EAAE,SAASA,OAAT,GAAmB;AAC1B,WAAO;AACLC,MAAAA,OAAO,EAAE;AADJ,KAAP;AAGD,GAhC4B;AAiC7BC,EAAAA,IAAI,EAAE,SAASA,IAAT,GAAgB;AACpB,WAAO;AACLC,MAAAA,MAAM,EAAE;AADH,KAAP;AAGD,GArC4B;AAsC7BC,EAAAA,OAAO,EAAE;AACPC,IAAAA,gBAAgB,EAAE,SAASA,gBAAT,CAA0BC,KAA1B,EAAiC;AACjD,UAAIA,KAAJ,EAAW;AACT,eAAO,KAAKH,MAAL,CAAYI,MAAZ,CAAmB,UAAUC,KAAV,EAAiB;AACzC,iBAAOF,KAAK,CAACG,OAAN,CAAcD,KAAK,CAACE,IAApB,MAA8B,CAAC,CAAtC;AACD,SAFM,CAAP;AAGD;;AAED,aAAO,KAAKP,MAAZ;AACD,KATM;AAUPQ,IAAAA,WAAW,EAAE,SAASA,WAAT,CAAqBL,KAArB,EAA4B;AACvC,UAAIM,KAAK,GAAG,IAAZ;;AAEA,aAAO,IAAIC,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AAC5C,YAAIC,MAAM,GAAG,EAAb;;AAEA,YAAIb,MAAM,GAAGS,KAAK,CAACP,gBAAN,CAAuBC,KAAvB,CAAb;;AAEAH,QAAAA,MAAM,CAACc,MAAP,CAAc,UAAUC,OAAV,EAAmBV,KAAnB,EAA0B;AACtC,iBAAOU,OAAO,CAACC,IAAR,CAAa,YAAY;AAC9B,gBAAI,CAACH,MAAM,CAACI,MAAZ,EAAoB;AAClB,qBAAOZ,KAAK,CAACa,QAAN,GAAiBF,IAAjB,CAAsB,UAAUG,KAAV,EAAiB;AAC5C,oBAAIA,KAAJ,EAAW;AACTN,kBAAAA,MAAM,CAACO,IAAP,CAAYD,KAAZ;AACD;AACF,eAJM,CAAP;AAKD;AACF,WARM,CAAP;AASD,SAVD,EAUGT,OAAO,CAACC,OAAR,EAVH,EAUsBK,IAVtB,CAU2B,YAAY;AACrC,cAAIH,MAAM,CAACI,MAAX,EAAmB;AACjBL,YAAAA,MAAM,CAACC,MAAD,CAAN;AACD,WAFD,MAEO;AACLF,YAAAA,OAAO;AACR;AACF,SAhBD;AAiBD,OAtBM,CAAP;AAuBD,KApCM;AAqCPU,IAAAA,cAAc,EAAE,SAASA,cAAT,CAAwBlB,KAAxB,EAA+B;AAC7C,UAAImB,MAAM,GAAG,IAAb;;AAEA,aAAO,IAAIZ,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AAC5C,YAAIZ,MAAM,GAAGsB,MAAM,CAACpB,gBAAP,CAAwBC,KAAxB,CAAb;;AAEAO,QAAAA,OAAO,CAACa,GAAR,CAAYvB,MAAM,CAACwB,GAAP,CAAW,UAAUC,IAAV,EAAgB;AACrC,iBAAOA,IAAI,CAACP,QAAL,EAAP;AACD,SAFW,CAAZ,EAEIF,IAFJ,CAES,UAAUH,MAAV,EAAkB;AACzBA,UAAAA,MAAM,GAAGA,MAAM,CAACT,MAAP,CAAc,UAAUqB,IAAV,EAAgB;AACrC,mBAAOA,IAAP;AACD,WAFQ,CAAT;;AAIA,cAAIZ,MAAM,CAACI,MAAX,EAAmB;AACjBL,YAAAA,MAAM,CAACC,MAAD,CAAN;AACD,WAFD,MAEO;AACLF,YAAAA,OAAO;AACR;AACF,SAZD;AAaD,OAhBM,CAAP;AAiBD,KAzDM;AA0DP;AACAO,IAAAA,QAAQ,EAAE,SAASA,QAAT,CAAkBX,IAAlB,EAAwB;AAChC,UAAIA,IAAI,IAAI,CAACmB,KAAK,CAACC,OAAN,CAAcpB,IAAd,CAAb,EAAkC;AAChC,eAAO,KAAKqB,aAAL,CAAmBrB,IAAnB,CAAP;AACD;;AAED,aAAO,KAAKlB,aAAL,GAAqB,KAAKmB,WAAL,CAAiBD,IAAjB,CAArB,GAA8C,KAAKc,cAAL,CAAoBd,IAApB,CAArD;AACD,KAjEM;AAkEPqB,IAAAA,aAAa,EAAE,SAASA,aAAT,CAAuBrB,IAAvB,EAA6B;AAC1C,UAAIsB,OAAO,GAAG,KAAK7B,MAAL,CAAYI,MAAZ,CAAmB,UAAUqB,IAAV,EAAgB;AAC/C,eAAOA,IAAI,CAAClB,IAAL,KAAcA,IAArB;AACD,OAFa,CAAd;;AAIA,UAAIsB,OAAO,CAACZ,MAAZ,EAAoB;AAClB,eAAO,IAAIP,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AAC5CiB,UAAAA,OAAO,CAAC,CAAD,CAAP,CAAWX,QAAX,GAAsBF,IAAtB,CAA2B,UAAUG,KAAV,EAAiB;AAC1C,gBAAIA,KAAJ,EAAW;AACTP,cAAAA,MAAM,CAACO,KAAD,CAAN;AACD,aAFD,MAEO;AACLR,cAAAA,OAAO;AACR;AACF,WAND;AAOD,SARM,CAAP;AASD;;AAED,aAAOD,OAAO,CAACE,MAAR,EAAP;AACD,KApFM;AAqFP;AACAkB,IAAAA,eAAe,EAAE,SAASA,eAAT,CAAyBvB,IAAzB,EAA+B;AAC9C,UAAIA,IAAI,IAAI,CAACmB,KAAK,CAACC,OAAN,CAAcpB,IAAd,CAAb,EAAkC;AAChCA,QAAAA,IAAI,GAAG,CAACA,IAAD,CAAP;AACD;;AAED,UAAIP,MAAM,GAAG,KAAKE,gBAAL,CAAsBK,IAAtB,CAAb;AACAP,MAAAA,MAAM,CAAC+B,OAAP,CAAe,UAAUN,IAAV,EAAgB;AAC7BA,QAAAA,IAAI,CAACK,eAAL;AACD,OAFD;AAGD,KA/FM;AAgGP;AACAE,IAAAA,aAAa,EAAE,SAASA,aAAT,CAAuBzB,IAAvB,EAA6B0B,OAA7B,EAAsC;AACnD,WAAKjC,MAAL,CAAYkC,IAAZ,CAAiB,UAAUT,IAAV,EAAgB;AAC/B,YAAIA,IAAI,CAAClB,IAAL,KAAcA,IAAlB,EAAwB;AACtBkB,UAAAA,IAAI,CAACU,GAAL,CAASC,cAAT,CAAwBH,OAAxB;AACA,iBAAO,IAAP;AACD;;AAED,eAAO,KAAP;AACD,OAPD;AAQD,KA1GM;AA2GPI,IAAAA,QAAQ,EAAE,SAASA,QAAT,CAAkBhC,KAAlB,EAAyB;AACjC,WAAKL,MAAL,CAAYoB,IAAZ,CAAiBf,KAAjB;AACA/B,MAAAA,YAAY,CAAC,KAAK0B,MAAN,EAAc,IAAd,CAAZ;AACD,KA9GM;AA+GPsC,IAAAA,WAAW,EAAE,SAASA,WAAT,CAAqBjC,KAArB,EAA4B;AACvC,WAAKL,MAAL,GAAc,KAAKA,MAAL,CAAYI,MAAZ,CAAmB,UAAUqB,IAAV,EAAgB;AAC/C,eAAOA,IAAI,KAAKpB,KAAhB;AACD,OAFa,CAAd;AAGD,KAnHM;AAoHPkC,IAAAA,SAAS,EAAE,SAASA,SAAT,GAAqB;AAC9B,aAAO,KAAKvC,MAAL,CAAYc,MAAZ,CAAmB,UAAU0B,IAAV,EAAgBnC,KAAhB,EAAuB;AAC/CmC,QAAAA,IAAI,CAACnC,KAAK,CAACE,IAAP,CAAJ,GAAmBF,KAAK,CAACoC,SAAzB;AACA,eAAOD,IAAP;AACD,OAHM,EAGJ,EAHI,CAAP;AAID,KAzHM;AA0HPE,IAAAA,QAAQ,EAAE,SAASA,QAAT,CAAkBC,KAAlB,EAAyB;AACjCA,MAAAA,KAAK,CAACC,cAAN;AACA,WAAKC,MAAL;AACD,KA7HM;AA8HP;AACAA,IAAAA,MAAM,EAAE,SAASA,MAAT,GAAkB;AACxB,UAAIC,MAAM,GAAG,IAAb;;AAEA,UAAIC,MAAM,GAAG,KAAKR,SAAL,EAAb;AACA,WAAKrB,QAAL,GAAgBF,IAAhB,CAAqB,YAAY;AAC/B8B,QAAAA,MAAM,CAACE,KAAP,CAAa,QAAb,EAAuBD,MAAvB;AACD,OAFD,EAEGE,KAFH,CAES,UAAUpC,MAAV,EAAkB;AACzBiC,QAAAA,MAAM,CAACE,KAAP,CAAa,QAAb,EAAuB;AACrBD,UAAAA,MAAM,EAAEA,MADa;AAErBlC,UAAAA,MAAM,EAAEA;AAFa,SAAvB;;AAKA,YAAIiC,MAAM,CAAC1D,aAAX,EAA0B;AACxB0D,UAAAA,MAAM,CAACd,aAAP,CAAqBnB,MAAM,CAAC,CAAD,CAAN,CAAUN,IAA/B;AACD;AACF,OAXD;AAYD;AA/IM,GAtCoB;AAuL7B2C,EAAAA,MAAM,EAAE,SAASA,MAAT,GAAkB;AACxB,QAAIC,CAAC,GAAGC,SAAS,CAAC,CAAD,CAAjB;AACA,WAAOD,CAAC,CAAC,MAAD,EAAS;AACf,eAAS1E,GAAG,EADG;AAEf,YAAM;AACJ,kBAAU,KAAKiE;AADX;AAFS,KAAT,EAKL,CAAC,KAAKW,KAAL,EAAD,CALK,CAAR;AAMD;AA/L4B,CAAD,CAA9B","sourcesContent":["import { createNamespace } from '../utils';\nimport { sortChildren } from '../utils/vnodes';\n\nvar _createNamespace = createNamespace('form'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  props: {\n    colon: Boolean,\n    disabled: Boolean,\n    readonly: Boolean,\n    labelWidth: [Number, String],\n    labelAlign: String,\n    inputAlign: String,\n    scrollToError: Boolean,\n    validateFirst: Boolean,\n    errorMessageAlign: String,\n    submitOnEnter: {\n      type: Boolean,\n      default: true\n    },\n    validateTrigger: {\n      type: String,\n      default: 'onBlur'\n    },\n    showError: {\n      type: Boolean,\n      default: true\n    },\n    showErrorMessage: {\n      type: Boolean,\n      default: true\n    }\n  },\n  provide: function provide() {\n    return {\n      vanForm: this\n    };\n  },\n  data: function data() {\n    return {\n      fields: []\n    };\n  },\n  methods: {\n    getFieldsByNames: function getFieldsByNames(names) {\n      if (names) {\n        return this.fields.filter(function (field) {\n          return names.indexOf(field.name) !== -1;\n        });\n      }\n\n      return this.fields;\n    },\n    validateSeq: function validateSeq(names) {\n      var _this = this;\n\n      return new Promise(function (resolve, reject) {\n        var errors = [];\n\n        var fields = _this.getFieldsByNames(names);\n\n        fields.reduce(function (promise, field) {\n          return promise.then(function () {\n            if (!errors.length) {\n              return field.validate().then(function (error) {\n                if (error) {\n                  errors.push(error);\n                }\n              });\n            }\n          });\n        }, Promise.resolve()).then(function () {\n          if (errors.length) {\n            reject(errors);\n          } else {\n            resolve();\n          }\n        });\n      });\n    },\n    validateFields: function validateFields(names) {\n      var _this2 = this;\n\n      return new Promise(function (resolve, reject) {\n        var fields = _this2.getFieldsByNames(names);\n\n        Promise.all(fields.map(function (item) {\n          return item.validate();\n        })).then(function (errors) {\n          errors = errors.filter(function (item) {\n            return item;\n          });\n\n          if (errors.length) {\n            reject(errors);\n          } else {\n            resolve();\n          }\n        });\n      });\n    },\n    // @exposed-api\n    validate: function validate(name) {\n      if (name && !Array.isArray(name)) {\n        return this.validateField(name);\n      }\n\n      return this.validateFirst ? this.validateSeq(name) : this.validateFields(name);\n    },\n    validateField: function validateField(name) {\n      var matched = this.fields.filter(function (item) {\n        return item.name === name;\n      });\n\n      if (matched.length) {\n        return new Promise(function (resolve, reject) {\n          matched[0].validate().then(function (error) {\n            if (error) {\n              reject(error);\n            } else {\n              resolve();\n            }\n          });\n        });\n      }\n\n      return Promise.reject();\n    },\n    // @exposed-api\n    resetValidation: function resetValidation(name) {\n      if (name && !Array.isArray(name)) {\n        name = [name];\n      }\n\n      var fields = this.getFieldsByNames(name);\n      fields.forEach(function (item) {\n        item.resetValidation();\n      });\n    },\n    // @exposed-api\n    scrollToField: function scrollToField(name, options) {\n      this.fields.some(function (item) {\n        if (item.name === name) {\n          item.$el.scrollIntoView(options);\n          return true;\n        }\n\n        return false;\n      });\n    },\n    addField: function addField(field) {\n      this.fields.push(field);\n      sortChildren(this.fields, this);\n    },\n    removeField: function removeField(field) {\n      this.fields = this.fields.filter(function (item) {\n        return item !== field;\n      });\n    },\n    getValues: function getValues() {\n      return this.fields.reduce(function (form, field) {\n        form[field.name] = field.formValue;\n        return form;\n      }, {});\n    },\n    onSubmit: function onSubmit(event) {\n      event.preventDefault();\n      this.submit();\n    },\n    // @exposed-api\n    submit: function submit() {\n      var _this3 = this;\n\n      var values = this.getValues();\n      this.validate().then(function () {\n        _this3.$emit('submit', values);\n      }).catch(function (errors) {\n        _this3.$emit('failed', {\n          values: values,\n          errors: errors\n        });\n\n        if (_this3.scrollToError) {\n          _this3.scrollToField(errors[0].name);\n        }\n      });\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    return h(\"form\", {\n      \"class\": bem(),\n      \"on\": {\n        \"submit\": this.onSubmit\n      }\n    }, [this.slots()]);\n  }\n});"]},"metadata":{},"sourceType":"module"}