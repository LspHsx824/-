{"ast":null,"code":"import \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.array.map.js\";\n// Utils\nimport { createNamespace, isDef } from '../utils';\nimport { getScroller } from '../utils/dom/scroll'; // Mixins\n\nimport { ParentMixin } from '../mixins/relation';\nimport { ClickOutsideMixin } from '../mixins/click-outside';\n\nvar _createNamespace = createNamespace('dropdown-menu'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  mixins: [ParentMixin('vanDropdownMenu'), ClickOutsideMixin({\n    event: 'click',\n    method: 'onClickOutside'\n  })],\n  props: {\n    zIndex: [Number, String],\n    activeColor: String,\n    overlay: {\n      type: Boolean,\n      default: true\n    },\n    duration: {\n      type: [Number, String],\n      default: 0.2\n    },\n    direction: {\n      type: String,\n      default: 'down'\n    },\n    closeOnClickOverlay: {\n      type: Boolean,\n      default: true\n    }\n  },\n  data: function data() {\n    return {\n      offset: 0\n    };\n  },\n  computed: {\n    scroller: function scroller() {\n      return getScroller(this.$el);\n    },\n    opened: function opened() {\n      return this.children.some(function (item) {\n        return item.showWrapper;\n      });\n    },\n    barStyle: function barStyle() {\n      if (this.opened && isDef(this.zIndex)) {\n        return {\n          zIndex: 1 + this.zIndex\n        };\n      }\n    }\n  },\n  methods: {\n    updateOffset: function updateOffset() {\n      if (!this.$refs.bar) {\n        return;\n      }\n\n      var rect = this.$refs.bar.getBoundingClientRect();\n\n      if (this.direction === 'down') {\n        this.offset = rect.bottom;\n      } else {\n        this.offset = window.innerHeight - rect.top;\n      }\n    },\n    toggleItem: function toggleItem(active) {\n      this.children.forEach(function (item, index) {\n        if (index === active) {\n          item.toggle();\n        } else if (item.showPopup) {\n          item.toggle(false, {\n            immediate: true\n          });\n        }\n      });\n    },\n    onClickOutside: function onClickOutside() {\n      this.children.forEach(function (item) {\n        item.toggle(false);\n      });\n    }\n  },\n  render: function render() {\n    var _this = this;\n\n    var h = arguments[0];\n    var Titles = this.children.map(function (item, index) {\n      return h(\"div\", {\n        \"attrs\": {\n          \"role\": \"button\",\n          \"tabindex\": item.disabled ? -1 : 0\n        },\n        \"class\": bem('item', {\n          disabled: item.disabled\n        }),\n        \"on\": {\n          \"click\": function click() {\n            if (!item.disabled) {\n              _this.toggleItem(index);\n            }\n          }\n        }\n      }, [h(\"span\", {\n        \"class\": [bem('title', {\n          active: item.showPopup,\n          down: item.showPopup === (_this.direction === 'down')\n        }), item.titleClass],\n        \"style\": {\n          color: item.showPopup ? _this.activeColor : ''\n        }\n      }, [h(\"div\", {\n        \"class\": \"van-ellipsis\"\n      }, [item.slots('title') || item.displayTitle])])]);\n    });\n    return h(\"div\", {\n      \"class\": bem()\n    }, [h(\"div\", {\n      \"ref\": \"bar\",\n      \"style\": this.barStyle,\n      \"class\": bem('bar', {\n        opened: this.opened\n      })\n    }, [Titles]), this.slots('default')]);\n  }\n});","map":{"version":3,"sources":["C:/Users/Lisp/Desktop/Vue-app/items/node_modules/vant/es/dropdown-menu/index.js"],"names":["createNamespace","isDef","getScroller","ParentMixin","ClickOutsideMixin","_createNamespace","createComponent","bem","mixins","event","method","props","zIndex","Number","String","activeColor","overlay","type","Boolean","default","duration","direction","closeOnClickOverlay","data","offset","computed","scroller","$el","opened","children","some","item","showWrapper","barStyle","methods","updateOffset","$refs","bar","rect","getBoundingClientRect","bottom","window","innerHeight","top","toggleItem","active","forEach","index","toggle","showPopup","immediate","onClickOutside","render","_this","h","arguments","Titles","map","disabled","click","down","titleClass","color","slots","displayTitle"],"mappings":"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","sourcesContent":["// Utils\nimport { createNamespace, isDef } from '../utils';\nimport { getScroller } from '../utils/dom/scroll'; // Mixins\n\nimport { ParentMixin } from '../mixins/relation';\nimport { ClickOutsideMixin } from '../mixins/click-outside';\n\nvar _createNamespace = createNamespace('dropdown-menu'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  mixins: [ParentMixin('vanDropdownMenu'), ClickOutsideMixin({\n    event: 'click',\n    method: 'onClickOutside'\n  })],\n  props: {\n    zIndex: [Number, String],\n    activeColor: String,\n    overlay: {\n      type: Boolean,\n      default: true\n    },\n    duration: {\n      type: [Number, String],\n      default: 0.2\n    },\n    direction: {\n      type: String,\n      default: 'down'\n    },\n    closeOnClickOverlay: {\n      type: Boolean,\n      default: true\n    }\n  },\n  data: function data() {\n    return {\n      offset: 0\n    };\n  },\n  computed: {\n    scroller: function scroller() {\n      return getScroller(this.$el);\n    },\n    opened: function opened() {\n      return this.children.some(function (item) {\n        return item.showWrapper;\n      });\n    },\n    barStyle: function barStyle() {\n      if (this.opened && isDef(this.zIndex)) {\n        return {\n          zIndex: 1 + this.zIndex\n        };\n      }\n    }\n  },\n  methods: {\n    updateOffset: function updateOffset() {\n      if (!this.$refs.bar) {\n        return;\n      }\n\n      var rect = this.$refs.bar.getBoundingClientRect();\n\n      if (this.direction === 'down') {\n        this.offset = rect.bottom;\n      } else {\n        this.offset = window.innerHeight - rect.top;\n      }\n    },\n    toggleItem: function toggleItem(active) {\n      this.children.forEach(function (item, index) {\n        if (index === active) {\n          item.toggle();\n        } else if (item.showPopup) {\n          item.toggle(false, {\n            immediate: true\n          });\n        }\n      });\n    },\n    onClickOutside: function onClickOutside() {\n      this.children.forEach(function (item) {\n        item.toggle(false);\n      });\n    }\n  },\n  render: function render() {\n    var _this = this;\n\n    var h = arguments[0];\n    var Titles = this.children.map(function (item, index) {\n      return h(\"div\", {\n        \"attrs\": {\n          \"role\": \"button\",\n          \"tabindex\": item.disabled ? -1 : 0\n        },\n        \"class\": bem('item', {\n          disabled: item.disabled\n        }),\n        \"on\": {\n          \"click\": function click() {\n            if (!item.disabled) {\n              _this.toggleItem(index);\n            }\n          }\n        }\n      }, [h(\"span\", {\n        \"class\": [bem('title', {\n          active: item.showPopup,\n          down: item.showPopup === (_this.direction === 'down')\n        }), item.titleClass],\n        \"style\": {\n          color: item.showPopup ? _this.activeColor : ''\n        }\n      }, [h(\"div\", {\n        \"class\": \"van-ellipsis\"\n      }, [item.slots('title') || item.displayTitle])])]);\n    });\n    return h(\"div\", {\n      \"class\": bem()\n    }, [h(\"div\", {\n      \"ref\": \"bar\",\n      \"style\": this.barStyle,\n      \"class\": bem('bar', {\n        opened: this.opened\n      })\n    }, [Titles]), this.slots('default')]);\n  }\n});"]},"metadata":{},"sourceType":"module"}