{"ast":null,"code":"import \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.array.find.js\";\n// Utils\nimport { createNamespace } from '../../utils';\nimport { BORDER_BOTTOM } from '../../utils/constant'; // Mixins\n\nimport { ParentMixin } from '../../mixins/relation';\nimport { BindEventMixin } from '../../mixins/bind-event';\n\nvar _createNamespace = createNamespace('sku-row'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1],\n    t = _createNamespace[2];\n\nexport { bem };\nexport default createComponent({\n  mixins: [ParentMixin('vanSkuRows'), BindEventMixin(function (bind) {\n    if (this.scrollable && this.$refs.scroller) {\n      bind(this.$refs.scroller, 'scroll', this.onScroll);\n    }\n  })],\n  props: {\n    skuRow: Object\n  },\n  data: function data() {\n    return {\n      progress: 0\n    };\n  },\n  computed: {\n    scrollable: function scrollable() {\n      return this.skuRow.largeImageMode && this.skuRow.v.length > 6;\n    }\n  },\n  methods: {\n    onScroll: function onScroll() {\n      var _this$$refs = this.$refs,\n          scroller = _this$$refs.scroller,\n          row = _this$$refs.row;\n      var distance = row.offsetWidth - scroller.offsetWidth;\n      this.progress = scroller.scrollLeft / distance;\n    },\n    genTitle: function genTitle() {\n      var h = this.$createElement;\n      return h(\"div\", {\n        \"class\": bem('title')\n      }, [this.skuRow.k, this.skuRow.is_multiple && h(\"span\", {\n        \"class\": bem('title-multiple')\n      }, [\"\\uFF08\", t('multiple'), \"\\uFF09\"])]);\n    },\n    genIndicator: function genIndicator() {\n      var h = this.$createElement;\n\n      if (this.scrollable) {\n        var style = {\n          transform: \"translate3d(\" + this.progress * 20 + \"px, 0, 0)\"\n        };\n        return h(\"div\", {\n          \"class\": bem('indicator-wrapper')\n        }, [h(\"div\", {\n          \"class\": bem('indicator')\n        }, [h(\"div\", {\n          \"class\": bem('indicator-slider'),\n          \"style\": style\n        })])]);\n      }\n    },\n    genContent: function genContent() {\n      var h = this.$createElement;\n      var nodes = this.slots();\n\n      if (this.skuRow.largeImageMode) {\n        var top = [];\n        var bottom = [];\n        nodes.forEach(function (node, index) {\n          var group = Math.floor(index / 3) % 2 === 0 ? top : bottom;\n          group.push(node);\n        });\n        return h(\"div\", {\n          \"class\": bem('scroller'),\n          \"ref\": \"scroller\"\n        }, [h(\"div\", {\n          \"class\": bem('row'),\n          \"ref\": \"row\"\n        }, [top]), bottom.length ? h(\"div\", {\n          \"class\": bem('row')\n        }, [bottom]) : null]);\n      }\n\n      return nodes;\n    },\n    centerItem: function centerItem(selectSkuId) {\n      if (!this.skuRow.largeImageMode || !selectSkuId) {\n        return;\n      }\n\n      var _this$children = this.children,\n          children = _this$children === void 0 ? [] : _this$children;\n      var _this$$refs2 = this.$refs,\n          scroller = _this$$refs2.scroller,\n          row = _this$$refs2.row;\n      var child = children.find(function (it) {\n        return +it.skuValue.id === +selectSkuId;\n      });\n\n      if (scroller && row && child && child.$el) {\n        var target = child.$el;\n        var to = target.offsetLeft - (scroller.offsetWidth - target.offsetWidth) / 2;\n        scroller.scrollLeft = to;\n      }\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    return h(\"div\", {\n      \"class\": [bem(), BORDER_BOTTOM]\n    }, [this.genTitle(), this.genContent(), this.genIndicator()]);\n  }\n});","map":{"version":3,"sources":["C:/Users/Lisp/Desktop/Vue-app/items/node_modules/vant/es/sku/components/SkuRow.js"],"names":["createNamespace","BORDER_BOTTOM","ParentMixin","BindEventMixin","_createNamespace","createComponent","bem","t","mixins","bind","scrollable","$refs","scroller","onScroll","props","skuRow","Object","data","progress","computed","largeImageMode","v","length","methods","_this$$refs","row","distance","offsetWidth","scrollLeft","genTitle","h","$createElement","k","is_multiple","genIndicator","style","transform","genContent","nodes","slots","top","bottom","forEach","node","index","group","Math","floor","push","centerItem","selectSkuId","_this$children","children","_this$$refs2","child","find","it","skuValue","id","$el","target","to","offsetLeft","render","arguments"],"mappings":"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","sourcesContent":["// Utils\nimport { createNamespace } from '../../utils';\nimport { BORDER_BOTTOM } from '../../utils/constant'; // Mixins\n\nimport { ParentMixin } from '../../mixins/relation';\nimport { BindEventMixin } from '../../mixins/bind-event';\n\nvar _createNamespace = createNamespace('sku-row'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1],\n    t = _createNamespace[2];\n\nexport { bem };\nexport default createComponent({\n  mixins: [ParentMixin('vanSkuRows'), BindEventMixin(function (bind) {\n    if (this.scrollable && this.$refs.scroller) {\n      bind(this.$refs.scroller, 'scroll', this.onScroll);\n    }\n  })],\n  props: {\n    skuRow: Object\n  },\n  data: function data() {\n    return {\n      progress: 0\n    };\n  },\n  computed: {\n    scrollable: function scrollable() {\n      return this.skuRow.largeImageMode && this.skuRow.v.length > 6;\n    }\n  },\n  methods: {\n    onScroll: function onScroll() {\n      var _this$$refs = this.$refs,\n          scroller = _this$$refs.scroller,\n          row = _this$$refs.row;\n      var distance = row.offsetWidth - scroller.offsetWidth;\n      this.progress = scroller.scrollLeft / distance;\n    },\n    genTitle: function genTitle() {\n      var h = this.$createElement;\n      return h(\"div\", {\n        \"class\": bem('title')\n      }, [this.skuRow.k, this.skuRow.is_multiple && h(\"span\", {\n        \"class\": bem('title-multiple')\n      }, [\"\\uFF08\", t('multiple'), \"\\uFF09\"])]);\n    },\n    genIndicator: function genIndicator() {\n      var h = this.$createElement;\n\n      if (this.scrollable) {\n        var style = {\n          transform: \"translate3d(\" + this.progress * 20 + \"px, 0, 0)\"\n        };\n        return h(\"div\", {\n          \"class\": bem('indicator-wrapper')\n        }, [h(\"div\", {\n          \"class\": bem('indicator')\n        }, [h(\"div\", {\n          \"class\": bem('indicator-slider'),\n          \"style\": style\n        })])]);\n      }\n    },\n    genContent: function genContent() {\n      var h = this.$createElement;\n      var nodes = this.slots();\n\n      if (this.skuRow.largeImageMode) {\n        var top = [];\n        var bottom = [];\n        nodes.forEach(function (node, index) {\n          var group = Math.floor(index / 3) % 2 === 0 ? top : bottom;\n          group.push(node);\n        });\n        return h(\"div\", {\n          \"class\": bem('scroller'),\n          \"ref\": \"scroller\"\n        }, [h(\"div\", {\n          \"class\": bem('row'),\n          \"ref\": \"row\"\n        }, [top]), bottom.length ? h(\"div\", {\n          \"class\": bem('row')\n        }, [bottom]) : null]);\n      }\n\n      return nodes;\n    },\n    centerItem: function centerItem(selectSkuId) {\n      if (!this.skuRow.largeImageMode || !selectSkuId) {\n        return;\n      }\n\n      var _this$children = this.children,\n          children = _this$children === void 0 ? [] : _this$children;\n      var _this$$refs2 = this.$refs,\n          scroller = _this$$refs2.scroller,\n          row = _this$$refs2.row;\n      var child = children.find(function (it) {\n        return +it.skuValue.id === +selectSkuId;\n      });\n\n      if (scroller && row && child && child.$el) {\n        var target = child.$el;\n        var to = target.offsetLeft - (scroller.offsetWidth - target.offsetWidth) / 2;\n        scroller.scrollLeft = to;\n      }\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    return h(\"div\", {\n      \"class\": [bem(), BORDER_BOTTOM]\n    }, [this.genTitle(), this.genContent(), this.genIndicator()]);\n  }\n});"]},"metadata":{},"sourceType":"module"}