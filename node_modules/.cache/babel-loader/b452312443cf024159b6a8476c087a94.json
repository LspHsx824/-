{"ast":null,"code":"import \"core-js/modules/es.number.constructor.js\";\nimport _mergeJSXProps2 from \"@vue/babel-helper-vue-jsx-merge-props\";\nimport _mergeJSXProps from \"@vue/babel-helper-vue-jsx-merge-props\";\nimport { createNamespace, isDef, addUnit, inBrowser } from '../utils';\nimport Icon from '../icon';\n\nvar _createNamespace = createNamespace('image'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  props: {\n    src: String,\n    fit: String,\n    alt: String,\n    round: Boolean,\n    width: [Number, String],\n    height: [Number, String],\n    radius: [Number, String],\n    lazyLoad: Boolean,\n    iconPrefix: String,\n    showError: {\n      type: Boolean,\n      default: true\n    },\n    showLoading: {\n      type: Boolean,\n      default: true\n    },\n    errorIcon: {\n      type: String,\n      default: 'photo-fail'\n    },\n    loadingIcon: {\n      type: String,\n      default: 'photo'\n    }\n  },\n  data: function data() {\n    return {\n      loading: true,\n      error: false\n    };\n  },\n  watch: {\n    src: function src() {\n      this.loading = true;\n      this.error = false;\n    }\n  },\n  computed: {\n    style: function style() {\n      var style = {};\n\n      if (isDef(this.width)) {\n        style.width = addUnit(this.width);\n      }\n\n      if (isDef(this.height)) {\n        style.height = addUnit(this.height);\n      }\n\n      if (isDef(this.radius)) {\n        style.overflow = 'hidden';\n        style.borderRadius = addUnit(this.radius);\n      }\n\n      return style;\n    }\n  },\n  created: function created() {\n    var $Lazyload = this.$Lazyload;\n\n    if ($Lazyload && inBrowser) {\n      $Lazyload.$on('loaded', this.onLazyLoaded);\n      $Lazyload.$on('error', this.onLazyLoadError);\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    var $Lazyload = this.$Lazyload;\n\n    if ($Lazyload) {\n      $Lazyload.$off('loaded', this.onLazyLoaded);\n      $Lazyload.$off('error', this.onLazyLoadError);\n    }\n  },\n  methods: {\n    onLoad: function onLoad(event) {\n      this.loading = false;\n      this.$emit('load', event);\n    },\n    onLazyLoaded: function onLazyLoaded(_ref) {\n      var el = _ref.el;\n\n      if (el === this.$refs.image && this.loading) {\n        this.onLoad();\n      }\n    },\n    onLazyLoadError: function onLazyLoadError(_ref2) {\n      var el = _ref2.el;\n\n      if (el === this.$refs.image && !this.error) {\n        this.onError();\n      }\n    },\n    onError: function onError(event) {\n      this.error = true;\n      this.loading = false;\n      this.$emit('error', event);\n    },\n    onClick: function onClick(event) {\n      this.$emit('click', event);\n    },\n    genPlaceholder: function genPlaceholder() {\n      var h = this.$createElement;\n\n      if (this.loading && this.showLoading) {\n        return h(\"div\", {\n          \"class\": bem('loading')\n        }, [this.slots('loading') || h(Icon, {\n          \"attrs\": {\n            \"name\": this.loadingIcon,\n            \"classPrefix\": this.iconPrefix\n          },\n          \"class\": bem('loading-icon')\n        })]);\n      }\n\n      if (this.error && this.showError) {\n        return h(\"div\", {\n          \"class\": bem('error')\n        }, [this.slots('error') || h(Icon, {\n          \"attrs\": {\n            \"name\": this.errorIcon,\n            \"classPrefix\": this.iconPrefix\n          },\n          \"class\": bem('error-icon')\n        })]);\n      }\n    },\n    genImage: function genImage() {\n      var h = this.$createElement;\n      var imgData = {\n        class: bem('img'),\n        attrs: {\n          alt: this.alt\n        },\n        style: {\n          objectFit: this.fit\n        }\n      };\n\n      if (this.error) {\n        return;\n      }\n\n      if (this.lazyLoad) {\n        return h(\"img\", _mergeJSXProps([{\n          \"ref\": \"image\",\n          \"directives\": [{\n            name: \"lazy\",\n            value: this.src\n          }]\n        }, imgData]));\n      }\n\n      return h(\"img\", _mergeJSXProps2([{\n        \"attrs\": {\n          \"src\": this.src\n        },\n        \"on\": {\n          \"load\": this.onLoad,\n          \"error\": this.onError\n        }\n      }, imgData]));\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    return h(\"div\", {\n      \"class\": bem({\n        round: this.round\n      }),\n      \"style\": this.style,\n      \"on\": {\n        \"click\": this.onClick\n      }\n    }, [this.genImage(), this.genPlaceholder(), this.slots()]);\n  }\n});","map":{"version":3,"sources":["C:/Users/Lisp/Desktop/Vue-app/items/node_modules/vant/es/image/index.js"],"names":["_mergeJSXProps2","_mergeJSXProps","createNamespace","isDef","addUnit","inBrowser","Icon","_createNamespace","createComponent","bem","props","src","String","fit","alt","round","Boolean","width","Number","height","radius","lazyLoad","iconPrefix","showError","type","default","showLoading","errorIcon","loadingIcon","data","loading","error","watch","computed","style","overflow","borderRadius","created","$Lazyload","$on","onLazyLoaded","onLazyLoadError","beforeDestroy","$off","methods","onLoad","event","$emit","_ref","el","$refs","image","_ref2","onError","onClick","genPlaceholder","h","$createElement","slots","genImage","imgData","class","attrs","objectFit","name","value","render","arguments"],"mappings":"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","sourcesContent":["import _mergeJSXProps2 from \"@vue/babel-helper-vue-jsx-merge-props\";\nimport _mergeJSXProps from \"@vue/babel-helper-vue-jsx-merge-props\";\nimport { createNamespace, isDef, addUnit, inBrowser } from '../utils';\nimport Icon from '../icon';\n\nvar _createNamespace = createNamespace('image'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  props: {\n    src: String,\n    fit: String,\n    alt: String,\n    round: Boolean,\n    width: [Number, String],\n    height: [Number, String],\n    radius: [Number, String],\n    lazyLoad: Boolean,\n    iconPrefix: String,\n    showError: {\n      type: Boolean,\n      default: true\n    },\n    showLoading: {\n      type: Boolean,\n      default: true\n    },\n    errorIcon: {\n      type: String,\n      default: 'photo-fail'\n    },\n    loadingIcon: {\n      type: String,\n      default: 'photo'\n    }\n  },\n  data: function data() {\n    return {\n      loading: true,\n      error: false\n    };\n  },\n  watch: {\n    src: function src() {\n      this.loading = true;\n      this.error = false;\n    }\n  },\n  computed: {\n    style: function style() {\n      var style = {};\n\n      if (isDef(this.width)) {\n        style.width = addUnit(this.width);\n      }\n\n      if (isDef(this.height)) {\n        style.height = addUnit(this.height);\n      }\n\n      if (isDef(this.radius)) {\n        style.overflow = 'hidden';\n        style.borderRadius = addUnit(this.radius);\n      }\n\n      return style;\n    }\n  },\n  created: function created() {\n    var $Lazyload = this.$Lazyload;\n\n    if ($Lazyload && inBrowser) {\n      $Lazyload.$on('loaded', this.onLazyLoaded);\n      $Lazyload.$on('error', this.onLazyLoadError);\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    var $Lazyload = this.$Lazyload;\n\n    if ($Lazyload) {\n      $Lazyload.$off('loaded', this.onLazyLoaded);\n      $Lazyload.$off('error', this.onLazyLoadError);\n    }\n  },\n  methods: {\n    onLoad: function onLoad(event) {\n      this.loading = false;\n      this.$emit('load', event);\n    },\n    onLazyLoaded: function onLazyLoaded(_ref) {\n      var el = _ref.el;\n\n      if (el === this.$refs.image && this.loading) {\n        this.onLoad();\n      }\n    },\n    onLazyLoadError: function onLazyLoadError(_ref2) {\n      var el = _ref2.el;\n\n      if (el === this.$refs.image && !this.error) {\n        this.onError();\n      }\n    },\n    onError: function onError(event) {\n      this.error = true;\n      this.loading = false;\n      this.$emit('error', event);\n    },\n    onClick: function onClick(event) {\n      this.$emit('click', event);\n    },\n    genPlaceholder: function genPlaceholder() {\n      var h = this.$createElement;\n\n      if (this.loading && this.showLoading) {\n        return h(\"div\", {\n          \"class\": bem('loading')\n        }, [this.slots('loading') || h(Icon, {\n          \"attrs\": {\n            \"name\": this.loadingIcon,\n            \"classPrefix\": this.iconPrefix\n          },\n          \"class\": bem('loading-icon')\n        })]);\n      }\n\n      if (this.error && this.showError) {\n        return h(\"div\", {\n          \"class\": bem('error')\n        }, [this.slots('error') || h(Icon, {\n          \"attrs\": {\n            \"name\": this.errorIcon,\n            \"classPrefix\": this.iconPrefix\n          },\n          \"class\": bem('error-icon')\n        })]);\n      }\n    },\n    genImage: function genImage() {\n      var h = this.$createElement;\n      var imgData = {\n        class: bem('img'),\n        attrs: {\n          alt: this.alt\n        },\n        style: {\n          objectFit: this.fit\n        }\n      };\n\n      if (this.error) {\n        return;\n      }\n\n      if (this.lazyLoad) {\n        return h(\"img\", _mergeJSXProps([{\n          \"ref\": \"image\",\n          \"directives\": [{\n            name: \"lazy\",\n            value: this.src\n          }]\n        }, imgData]));\n      }\n\n      return h(\"img\", _mergeJSXProps2([{\n        \"attrs\": {\n          \"src\": this.src\n        },\n        \"on\": {\n          \"load\": this.onLoad,\n          \"error\": this.onError\n        }\n      }, imgData]));\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    return h(\"div\", {\n      \"class\": bem({\n        round: this.round\n      }),\n      \"style\": this.style,\n      \"on\": {\n        \"click\": this.onClick\n      }\n    }, [this.genImage(), this.genPlaceholder(), this.slots()]);\n  }\n});"]},"metadata":{},"sourceType":"module"}