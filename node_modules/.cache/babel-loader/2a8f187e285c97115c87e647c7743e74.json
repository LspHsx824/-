{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/Lisp/Desktop/items/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"regenerator-runtime/runtime.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport CommontItem from \"./comment-item.vue\";\nimport myCommontList from \"./comment-reply.vue\";\nimport CommentPost from \"./comment-post.vue\";\nexport default {\n  name: \"Reply-Popup\",\n  components: {\n    CommontItem: CommontItem,\n    myCommontList: myCommontList,\n    CommentPost: CommentPost\n  },\n  props: {\n    comment: {\n      type: Object,\n      require: true\n    }\n  },\n  data: function data() {\n    return {\n      list: [],\n      isPostComment: false\n    };\n  },\n  created: function created() {// this.onLoad();\n  },\n  methods: {\n    onLoad: function onLoad() {// try{\n      //      let {\n      //         data: { data },\n      //     } = await getComment({\n      //         type: \"c\", //是\ta或c\t评论类型，a-对文章(article)的评论，c-对评论(comment)的回复\n      //         source: this.comment.com_id.toString(), //是\t源id，文章id或评论id\n      //         offset: this.offset, //否\t获取评论数据的偏移量，值为评论id，表示从此id的数据向后取，不传表示从第一页开始读取数据\n      //         limit: this.limit, //否\t   获取的评论数据个数，不传表示采用后端服务设定的默认每页数据量\n      //     });\n      //     this.list.push(...data.results)\n      // }catch(err){\n      // }\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))();\n    },\n    showReply: function showReply(data) {\n      // console.log(data);\n      this.isPostComment = true;\n    },\n    onPostSucces: function onPostSucces(data) {\n      console.log(\"-=-=-\", data);\n      this.isPostComment = false;\n      this.list.unshift(data.new_obj);\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;AAmBA;AACA;AAEA;AAEA;AACAA,qBADA;AAEAC;AACAC,4BADA;AAEAC,gCAFA;AAGAC;AAHA,GAFA;AAOAC;AACAC;AACAC,kBADA;AAEAC;AAFA;AADA,GAPA;AAaAC,MAbA,kBAaA;AACA;AACAC,cADA;AAEAC;AAFA;AAIA,GAlBA;AAmBAC,SAnBA,qBAmBA,CACA;AACA,GArBA;AAsBAC;AACAC,UADA,oBACA,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAZA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAaA,KAdA;AAeAC,aAfA,qBAeAN,IAfA,EAeA;AACA;AACA;AACA,KAlBA;AAmBAO,gBAnBA,wBAmBAP,IAnBA,EAmBA;AACAQ;AACA;AACA;AACA;AAvBA;AAtBA","names":["name","components","CommontItem","myCommontList","CommentPost","props","comment","type","require","data","list","isPostComment","created","methods","onLoad","showReply","onPostSucces","console"],"sourceRoot":"src/components/comment-list","sources":["comment-ReplyPopup.vue"],"sourcesContent":["<template>\r\n    <div class=\"reply-container\">\r\n        <header>{{comment.reply_count}} 条回复</header>\r\n        <CommontItem @show-inserReplyPopup=\"showReply\" :comment=\"comment\"></CommontItem>\r\n        <h6>全部回复</h6>\r\n        <myCommontList :newComList=\"list\" :curcomment=\"comment\"></myCommontList>\r\n\r\n        <!-- 回复评论弹出层 -->\r\n        <van-popup v-model=\"isPostComment\" position=\"bottom\">\r\n            <CommentPost\r\n                :commentID=\"comment.com_id\"\r\n                :id=\"comment.com_id\"\r\n                @post-succes=\"onPostSucces\"\r\n            ></CommentPost>\r\n        </van-popup>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport CommontItem from \"./comment-item.vue\";\r\nimport myCommontList from \"./comment-reply.vue\";\r\n\r\nimport CommentPost from \"./comment-post.vue\";\r\n\r\nexport default {\r\n    name: \"Reply-Popup\",\r\n    components: {\r\n        CommontItem,\r\n        myCommontList,\r\n        CommentPost,\r\n    },\r\n    props: {\r\n        comment: {\r\n            type: Object,\r\n            require: true,\r\n        },\r\n    },\r\n    data() {\r\n        return {\r\n            list: [],\r\n            isPostComment: false,\r\n        };\r\n    },\r\n    created() {\r\n        // this.onLoad();\r\n    },\r\n    methods: {\r\n        async onLoad() {\r\n            // try{\r\n            //      let {\r\n            //         data: { data },\r\n            //     } = await getComment({\r\n            //         type: \"c\", //是\ta或c\t评论类型，a-对文章(article)的评论，c-对评论(comment)的回复\r\n            //         source: this.comment.com_id.toString(), //是\t源id，文章id或评论id\r\n            //         offset: this.offset, //否\t获取评论数据的偏移量，值为评论id，表示从此id的数据向后取，不传表示从第一页开始读取数据\r\n            //         limit: this.limit, //否\t   获取的评论数据个数，不传表示采用后端服务设定的默认每页数据量\r\n            //     });\r\n            //     this.list.push(...data.results)\r\n            // }catch(err){\r\n            // }\r\n        },\r\n        showReply(data) {\r\n            // console.log(data);\r\n            this.isPostComment = true;\r\n        },\r\n        onPostSucces(data) {\r\n            console.log(\"-=-=-\",data);\r\n            this.isPostComment = false;\r\n            this.list.unshift(data.new_obj)\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.reply-container {\r\n    header {\r\n        height: 100px;\r\n        line-height: 100px;\r\n        text-align: center;\r\n        font-size: 32px;\r\n    }\r\n    h6 {\r\n        margin-left: 30px;\r\n        color: #666;\r\n        font-weight: normal;\r\n    }\r\n}\r\n</style>\r\n\r\n"]},"metadata":{},"sourceType":"module"}