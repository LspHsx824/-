{"ast":null,"code":"import \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.regexp.sticky.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.array.filter.js\";\n// Utils\nimport { createNamespace, isDef } from '../utils';\nimport { isHidden } from '../utils/dom/style';\nimport { preventDefault } from '../utils/dom/event';\nimport { getScroller, getScrollTop, getRootScrollTop, setRootScrollTop } from '../utils/dom/scroll'; // Mixins\n\nimport { TouchMixin } from '../mixins/touch';\nimport { ParentMixin } from '../mixins/relation';\nimport { BindEventMixin } from '../mixins/bind-event';\n\nfunction genAlphabet() {\n  var indexList = [];\n  var charCodeOfA = 'A'.charCodeAt(0);\n\n  for (var i = 0; i < 26; i++) {\n    indexList.push(String.fromCharCode(charCodeOfA + i));\n  }\n\n  return indexList;\n}\n\nvar _createNamespace = createNamespace('index-bar'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  mixins: [TouchMixin, ParentMixin('vanIndexBar'), BindEventMixin(function (bind) {\n    if (!this.scroller) {\n      this.scroller = getScroller(this.$el);\n    }\n\n    bind(this.scroller, 'scroll', this.onScroll);\n  })],\n  props: {\n    zIndex: [Number, String],\n    highlightColor: String,\n    sticky: {\n      type: Boolean,\n      default: true\n    },\n    stickyOffsetTop: {\n      type: Number,\n      default: 0\n    },\n    indexList: {\n      type: Array,\n      default: genAlphabet\n    }\n  },\n  data: function data() {\n    return {\n      activeAnchorIndex: null\n    };\n  },\n  computed: {\n    sidebarStyle: function sidebarStyle() {\n      if (isDef(this.zIndex)) {\n        return {\n          zIndex: this.zIndex + 1\n        };\n      }\n    },\n    highlightStyle: function highlightStyle() {\n      var highlightColor = this.highlightColor;\n\n      if (highlightColor) {\n        return {\n          color: highlightColor\n        };\n      }\n    }\n  },\n  watch: {\n    indexList: function indexList() {\n      this.$nextTick(this.onScroll);\n    },\n    activeAnchorIndex: function activeAnchorIndex(value) {\n      if (value) {\n        this.$emit('change', value);\n      }\n    }\n  },\n  methods: {\n    onScroll: function onScroll() {\n      var _this = this;\n\n      if (isHidden(this.$el)) {\n        return;\n      }\n\n      var scrollTop = getScrollTop(this.scroller);\n      var scrollerRect = this.getScrollerRect();\n      var rects = this.children.map(function (item) {\n        return item.getRect(_this.scroller, scrollerRect);\n      });\n      var active = this.getActiveAnchorIndex(scrollTop, rects);\n      this.activeAnchorIndex = this.indexList[active];\n\n      if (this.sticky) {\n        this.children.forEach(function (item, index) {\n          if (index === active || index === active - 1) {\n            var rect = item.$el.getBoundingClientRect();\n            item.left = rect.left;\n            item.width = rect.width;\n          } else {\n            item.left = null;\n            item.width = null;\n          }\n\n          if (index === active) {\n            item.active = true;\n            item.top = Math.max(_this.stickyOffsetTop, rects[index].top - scrollTop) + scrollerRect.top;\n          } else if (index === active - 1) {\n            var activeItemTop = rects[active].top - scrollTop;\n            item.active = activeItemTop > 0;\n            item.top = activeItemTop + scrollerRect.top - rects[index].height;\n          } else {\n            item.active = false;\n          }\n        });\n      }\n    },\n    getScrollerRect: function getScrollerRect() {\n      if (this.scroller.getBoundingClientRect) {\n        return this.scroller.getBoundingClientRect();\n      }\n\n      return {\n        top: 0,\n        left: 0\n      };\n    },\n    getActiveAnchorIndex: function getActiveAnchorIndex(scrollTop, rects) {\n      for (var i = this.children.length - 1; i >= 0; i--) {\n        var prevHeight = i > 0 ? rects[i - 1].height : 0;\n        var reachTop = this.sticky ? prevHeight + this.stickyOffsetTop : 0;\n\n        if (scrollTop + reachTop >= rects[i].top) {\n          return i;\n        }\n      }\n\n      return -1;\n    },\n    onClick: function onClick(event) {\n      this.scrollToElement(event.target);\n    },\n    onTouchMove: function onTouchMove(event) {\n      this.touchMove(event);\n\n      if (this.direction === 'vertical') {\n        preventDefault(event);\n        var _event$touches$ = event.touches[0],\n            clientX = _event$touches$.clientX,\n            clientY = _event$touches$.clientY;\n        var target = document.elementFromPoint(clientX, clientY);\n\n        if (target) {\n          var index = target.dataset.index;\n          /* istanbul ignore else */\n\n          if (this.touchActiveIndex !== index) {\n            this.touchActiveIndex = index;\n            this.scrollToElement(target);\n          }\n        }\n      }\n    },\n    scrollTo: function scrollTo(index) {\n      var match = this.children.filter(function (item) {\n        return String(item.index) === index;\n      });\n\n      if (match[0]) {\n        match[0].scrollIntoView();\n\n        if (this.sticky && this.stickyOffsetTop) {\n          setRootScrollTop(getRootScrollTop() - this.stickyOffsetTop);\n        }\n\n        this.$emit('select', match[0].index);\n      }\n    },\n    scrollToElement: function scrollToElement(element) {\n      var index = element.dataset.index;\n      this.scrollTo(index);\n    },\n    onTouchEnd: function onTouchEnd() {\n      this.active = null;\n    }\n  },\n  render: function render() {\n    var _this2 = this;\n\n    var h = arguments[0];\n    var Indexes = this.indexList.map(function (index) {\n      var active = index === _this2.activeAnchorIndex;\n      return h(\"span\", {\n        \"class\": bem('index', {\n          active: active\n        }),\n        \"style\": active ? _this2.highlightStyle : null,\n        \"attrs\": {\n          \"data-index\": index\n        }\n      }, [index]);\n    });\n    return h(\"div\", {\n      \"class\": bem()\n    }, [h(\"div\", {\n      \"class\": bem('sidebar'),\n      \"style\": this.sidebarStyle,\n      \"on\": {\n        \"click\": this.onClick,\n        \"touchstart\": this.touchStart,\n        \"touchmove\": this.onTouchMove,\n        \"touchend\": this.onTouchEnd,\n        \"touchcancel\": this.onTouchEnd\n      }\n    }, [Indexes]), this.slots('default')]);\n  }\n});","map":{"version":3,"sources":["C:/Users/Lisp/Desktop/Vue-app/items/node_modules/vant/es/index-bar/index.js"],"names":["createNamespace","isDef","isHidden","preventDefault","getScroller","getScrollTop","getRootScrollTop","setRootScrollTop","TouchMixin","ParentMixin","BindEventMixin","genAlphabet","indexList","charCodeOfA","charCodeAt","i","push","String","fromCharCode","_createNamespace","createComponent","bem","mixins","bind","scroller","$el","onScroll","props","zIndex","Number","highlightColor","sticky","type","Boolean","default","stickyOffsetTop","Array","data","activeAnchorIndex","computed","sidebarStyle","highlightStyle","color","watch","$nextTick","value","$emit","methods","_this","scrollTop","scrollerRect","getScrollerRect","rects","children","map","item","getRect","active","getActiveAnchorIndex","forEach","index","rect","getBoundingClientRect","left","width","top","Math","max","activeItemTop","height","length","prevHeight","reachTop","onClick","event","scrollToElement","target","onTouchMove","touchMove","direction","_event$touches$","touches","clientX","clientY","document","elementFromPoint","dataset","touchActiveIndex","scrollTo","match","filter","scrollIntoView","element","onTouchEnd","render","_this2","h","arguments","Indexes","touchStart","slots"],"mappings":"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","sourcesContent":["// Utils\nimport { createNamespace, isDef } from '../utils';\nimport { isHidden } from '../utils/dom/style';\nimport { preventDefault } from '../utils/dom/event';\nimport { getScroller, getScrollTop, getRootScrollTop, setRootScrollTop } from '../utils/dom/scroll'; // Mixins\n\nimport { TouchMixin } from '../mixins/touch';\nimport { ParentMixin } from '../mixins/relation';\nimport { BindEventMixin } from '../mixins/bind-event';\n\nfunction genAlphabet() {\n  var indexList = [];\n  var charCodeOfA = 'A'.charCodeAt(0);\n\n  for (var i = 0; i < 26; i++) {\n    indexList.push(String.fromCharCode(charCodeOfA + i));\n  }\n\n  return indexList;\n}\n\nvar _createNamespace = createNamespace('index-bar'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  mixins: [TouchMixin, ParentMixin('vanIndexBar'), BindEventMixin(function (bind) {\n    if (!this.scroller) {\n      this.scroller = getScroller(this.$el);\n    }\n\n    bind(this.scroller, 'scroll', this.onScroll);\n  })],\n  props: {\n    zIndex: [Number, String],\n    highlightColor: String,\n    sticky: {\n      type: Boolean,\n      default: true\n    },\n    stickyOffsetTop: {\n      type: Number,\n      default: 0\n    },\n    indexList: {\n      type: Array,\n      default: genAlphabet\n    }\n  },\n  data: function data() {\n    return {\n      activeAnchorIndex: null\n    };\n  },\n  computed: {\n    sidebarStyle: function sidebarStyle() {\n      if (isDef(this.zIndex)) {\n        return {\n          zIndex: this.zIndex + 1\n        };\n      }\n    },\n    highlightStyle: function highlightStyle() {\n      var highlightColor = this.highlightColor;\n\n      if (highlightColor) {\n        return {\n          color: highlightColor\n        };\n      }\n    }\n  },\n  watch: {\n    indexList: function indexList() {\n      this.$nextTick(this.onScroll);\n    },\n    activeAnchorIndex: function activeAnchorIndex(value) {\n      if (value) {\n        this.$emit('change', value);\n      }\n    }\n  },\n  methods: {\n    onScroll: function onScroll() {\n      var _this = this;\n\n      if (isHidden(this.$el)) {\n        return;\n      }\n\n      var scrollTop = getScrollTop(this.scroller);\n      var scrollerRect = this.getScrollerRect();\n      var rects = this.children.map(function (item) {\n        return item.getRect(_this.scroller, scrollerRect);\n      });\n      var active = this.getActiveAnchorIndex(scrollTop, rects);\n      this.activeAnchorIndex = this.indexList[active];\n\n      if (this.sticky) {\n        this.children.forEach(function (item, index) {\n          if (index === active || index === active - 1) {\n            var rect = item.$el.getBoundingClientRect();\n            item.left = rect.left;\n            item.width = rect.width;\n          } else {\n            item.left = null;\n            item.width = null;\n          }\n\n          if (index === active) {\n            item.active = true;\n            item.top = Math.max(_this.stickyOffsetTop, rects[index].top - scrollTop) + scrollerRect.top;\n          } else if (index === active - 1) {\n            var activeItemTop = rects[active].top - scrollTop;\n            item.active = activeItemTop > 0;\n            item.top = activeItemTop + scrollerRect.top - rects[index].height;\n          } else {\n            item.active = false;\n          }\n        });\n      }\n    },\n    getScrollerRect: function getScrollerRect() {\n      if (this.scroller.getBoundingClientRect) {\n        return this.scroller.getBoundingClientRect();\n      }\n\n      return {\n        top: 0,\n        left: 0\n      };\n    },\n    getActiveAnchorIndex: function getActiveAnchorIndex(scrollTop, rects) {\n      for (var i = this.children.length - 1; i >= 0; i--) {\n        var prevHeight = i > 0 ? rects[i - 1].height : 0;\n        var reachTop = this.sticky ? prevHeight + this.stickyOffsetTop : 0;\n\n        if (scrollTop + reachTop >= rects[i].top) {\n          return i;\n        }\n      }\n\n      return -1;\n    },\n    onClick: function onClick(event) {\n      this.scrollToElement(event.target);\n    },\n    onTouchMove: function onTouchMove(event) {\n      this.touchMove(event);\n\n      if (this.direction === 'vertical') {\n        preventDefault(event);\n        var _event$touches$ = event.touches[0],\n            clientX = _event$touches$.clientX,\n            clientY = _event$touches$.clientY;\n        var target = document.elementFromPoint(clientX, clientY);\n\n        if (target) {\n          var index = target.dataset.index;\n          /* istanbul ignore else */\n\n          if (this.touchActiveIndex !== index) {\n            this.touchActiveIndex = index;\n            this.scrollToElement(target);\n          }\n        }\n      }\n    },\n    scrollTo: function scrollTo(index) {\n      var match = this.children.filter(function (item) {\n        return String(item.index) === index;\n      });\n\n      if (match[0]) {\n        match[0].scrollIntoView();\n\n        if (this.sticky && this.stickyOffsetTop) {\n          setRootScrollTop(getRootScrollTop() - this.stickyOffsetTop);\n        }\n\n        this.$emit('select', match[0].index);\n      }\n    },\n    scrollToElement: function scrollToElement(element) {\n      var index = element.dataset.index;\n      this.scrollTo(index);\n    },\n    onTouchEnd: function onTouchEnd() {\n      this.active = null;\n    }\n  },\n  render: function render() {\n    var _this2 = this;\n\n    var h = arguments[0];\n    var Indexes = this.indexList.map(function (index) {\n      var active = index === _this2.activeAnchorIndex;\n      return h(\"span\", {\n        \"class\": bem('index', {\n          active: active\n        }),\n        \"style\": active ? _this2.highlightStyle : null,\n        \"attrs\": {\n          \"data-index\": index\n        }\n      }, [index]);\n    });\n    return h(\"div\", {\n      \"class\": bem()\n    }, [h(\"div\", {\n      \"class\": bem('sidebar'),\n      \"style\": this.sidebarStyle,\n      \"on\": {\n        \"click\": this.onClick,\n        \"touchstart\": this.touchStart,\n        \"touchmove\": this.onTouchMove,\n        \"touchend\": this.onTouchEnd,\n        \"touchcancel\": this.onTouchEnd\n      }\n    }, [Indexes]), this.slots('default')]);\n  }\n});"]},"metadata":{},"sourceType":"module"}