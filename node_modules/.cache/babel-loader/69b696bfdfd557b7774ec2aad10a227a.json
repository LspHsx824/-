{"ast":null,"code":"import \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.array.sort.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport { createNamespace } from '../utils';\nimport { stopPropagation } from '../utils/dom/event';\nimport { PortalMixin } from '../mixins/portal';\nimport { BindEventMixin } from '../mixins/bind-event';\nimport Key from './Key';\n\nvar _createNamespace = createNamespace('number-keyboard'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  mixins: [PortalMixin(), BindEventMixin(function (bind) {\n    if (this.hideOnClickOutside) {\n      bind(document.body, 'touchstart', this.onBlur);\n    }\n  })],\n  model: {\n    event: 'update:value'\n  },\n  props: {\n    show: Boolean,\n    title: String,\n    zIndex: [Number, String],\n    randomKeyOrder: Boolean,\n    closeButtonText: String,\n    deleteButtonText: String,\n    closeButtonLoading: Boolean,\n    theme: {\n      type: String,\n      default: 'default'\n    },\n    value: {\n      type: String,\n      default: ''\n    },\n    extraKey: {\n      type: [String, Array],\n      default: ''\n    },\n    maxlength: {\n      type: [Number, String],\n      default: Number.MAX_VALUE\n    },\n    transition: {\n      type: Boolean,\n      default: true\n    },\n    showDeleteKey: {\n      type: Boolean,\n      default: true\n    },\n    hideOnClickOutside: {\n      type: Boolean,\n      default: true\n    },\n    safeAreaInsetBottom: {\n      type: Boolean,\n      default: true\n    }\n  },\n  watch: {\n    show: function show(val) {\n      if (!this.transition) {\n        this.$emit(val ? 'show' : 'hide');\n      }\n    }\n  },\n  computed: {\n    keys: function keys() {\n      if (this.theme === 'custom') {\n        return this.genCustomKeys();\n      }\n\n      return this.genDefaultKeys();\n    }\n  },\n  methods: {\n    genBasicKeys: function genBasicKeys() {\n      var keys = [];\n\n      for (var i = 1; i <= 9; i++) {\n        keys.push({\n          text: i\n        });\n      }\n\n      if (this.randomKeyOrder) {\n        keys.sort(function () {\n          return Math.random() > 0.5 ? 1 : -1;\n        });\n      }\n\n      return keys;\n    },\n    genDefaultKeys: function genDefaultKeys() {\n      return [].concat(this.genBasicKeys(), [{\n        text: this.extraKey,\n        type: 'extra'\n      }, {\n        text: 0\n      }, {\n        text: this.showDeleteKey ? this.deleteButtonText : '',\n        type: this.showDeleteKey ? 'delete' : ''\n      }]);\n    },\n    genCustomKeys: function genCustomKeys() {\n      var keys = this.genBasicKeys();\n      var extraKey = this.extraKey;\n      var extraKeys = Array.isArray(extraKey) ? extraKey : [extraKey];\n\n      if (extraKeys.length === 1) {\n        keys.push({\n          text: 0,\n          wider: true\n        }, {\n          text: extraKeys[0],\n          type: 'extra'\n        });\n      } else if (extraKeys.length === 2) {\n        keys.push({\n          text: extraKeys[0],\n          type: 'extra'\n        }, {\n          text: 0\n        }, {\n          text: extraKeys[1],\n          type: 'extra'\n        });\n      }\n\n      return keys;\n    },\n    onBlur: function onBlur() {\n      this.show && this.$emit('blur');\n    },\n    onClose: function onClose() {\n      this.$emit('close');\n      this.onBlur();\n    },\n    onAnimationEnd: function onAnimationEnd() {\n      this.$emit(this.show ? 'show' : 'hide');\n    },\n    onPress: function onPress(text, type) {\n      if (text === '') {\n        if (type === 'extra') {\n          this.onBlur();\n        }\n\n        return;\n      }\n\n      var value = this.value;\n\n      if (type === 'delete') {\n        this.$emit('delete');\n        this.$emit('update:value', value.slice(0, value.length - 1));\n      } else if (type === 'close') {\n        this.onClose();\n      } else if (value.length < this.maxlength) {\n        this.$emit('input', text);\n        this.$emit('update:value', value + text);\n      }\n    },\n    genTitle: function genTitle() {\n      var h = this.$createElement;\n      var title = this.title,\n          theme = this.theme,\n          closeButtonText = this.closeButtonText;\n      var titleLeft = this.slots('title-left');\n      var showClose = closeButtonText && theme === 'default';\n      var showTitle = title || showClose || titleLeft;\n\n      if (!showTitle) {\n        return;\n      }\n\n      return h(\"div\", {\n        \"class\": bem('header')\n      }, [titleLeft && h(\"span\", {\n        \"class\": bem('title-left')\n      }, [titleLeft]), title && h(\"h2\", {\n        \"class\": bem('title')\n      }, [title]), showClose && h(\"button\", {\n        \"attrs\": {\n          \"type\": \"button\"\n        },\n        \"class\": bem('close'),\n        \"on\": {\n          \"click\": this.onClose\n        }\n      }, [closeButtonText])]);\n    },\n    genKeys: function genKeys() {\n      var _this = this;\n\n      var h = this.$createElement;\n      return this.keys.map(function (key) {\n        return h(Key, {\n          \"key\": key.text,\n          \"attrs\": {\n            \"text\": key.text,\n            \"type\": key.type,\n            \"wider\": key.wider,\n            \"color\": key.color\n          },\n          \"on\": {\n            \"press\": _this.onPress\n          }\n        }, [key.type === 'delete' && _this.slots('delete'), key.type === 'extra' && _this.slots('extra-key')]);\n      });\n    },\n    genSidebar: function genSidebar() {\n      var h = this.$createElement;\n\n      if (this.theme === 'custom') {\n        return h(\"div\", {\n          \"class\": bem('sidebar')\n        }, [this.showDeleteKey && h(Key, {\n          \"attrs\": {\n            \"large\": true,\n            \"text\": this.deleteButtonText,\n            \"type\": \"delete\"\n          },\n          \"on\": {\n            \"press\": this.onPress\n          }\n        }, [this.slots('delete')]), h(Key, {\n          \"attrs\": {\n            \"large\": true,\n            \"text\": this.closeButtonText,\n            \"type\": \"close\",\n            \"color\": \"blue\",\n            \"loading\": this.closeButtonLoading\n          },\n          \"on\": {\n            \"press\": this.onPress\n          }\n        })]);\n      }\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    var Title = this.genTitle();\n    return h(\"transition\", {\n      \"attrs\": {\n        \"name\": this.transition ? 'van-slide-up' : ''\n      }\n    }, [h(\"div\", {\n      \"directives\": [{\n        name: \"show\",\n        value: this.show\n      }],\n      \"style\": {\n        zIndex: this.zIndex\n      },\n      \"class\": bem({\n        unfit: !this.safeAreaInsetBottom,\n        'with-title': Title\n      }),\n      \"on\": {\n        \"touchstart\": stopPropagation,\n        \"animationend\": this.onAnimationEnd,\n        \"webkitAnimationEnd\": this.onAnimationEnd\n      }\n    }, [Title, h(\"div\", {\n      \"class\": bem('body')\n    }, [h(\"div\", {\n      \"class\": bem('keys')\n    }, [this.genKeys()]), this.genSidebar()])])]);\n  }\n});","map":{"version":3,"sources":["C:/Users/Lisp/Desktop/items/node_modules/vant/es/number-keyboard/index.js"],"names":["createNamespace","stopPropagation","PortalMixin","BindEventMixin","Key","_createNamespace","createComponent","bem","mixins","bind","hideOnClickOutside","document","body","onBlur","model","event","props","show","Boolean","title","String","zIndex","Number","randomKeyOrder","closeButtonText","deleteButtonText","closeButtonLoading","theme","type","default","value","extraKey","Array","maxlength","MAX_VALUE","transition","showDeleteKey","safeAreaInsetBottom","watch","val","$emit","computed","keys","genCustomKeys","genDefaultKeys","methods","genBasicKeys","i","push","text","sort","Math","random","concat","extraKeys","isArray","length","wider","onClose","onAnimationEnd","onPress","slice","genTitle","h","$createElement","titleLeft","slots","showClose","showTitle","genKeys","_this","map","key","color","genSidebar","render","arguments","Title","name","unfit"],"mappings":"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","sourcesContent":["import { createNamespace } from '../utils';\nimport { stopPropagation } from '../utils/dom/event';\nimport { PortalMixin } from '../mixins/portal';\nimport { BindEventMixin } from '../mixins/bind-event';\nimport Key from './Key';\n\nvar _createNamespace = createNamespace('number-keyboard'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  mixins: [PortalMixin(), BindEventMixin(function (bind) {\n    if (this.hideOnClickOutside) {\n      bind(document.body, 'touchstart', this.onBlur);\n    }\n  })],\n  model: {\n    event: 'update:value'\n  },\n  props: {\n    show: Boolean,\n    title: String,\n    zIndex: [Number, String],\n    randomKeyOrder: Boolean,\n    closeButtonText: String,\n    deleteButtonText: String,\n    closeButtonLoading: Boolean,\n    theme: {\n      type: String,\n      default: 'default'\n    },\n    value: {\n      type: String,\n      default: ''\n    },\n    extraKey: {\n      type: [String, Array],\n      default: ''\n    },\n    maxlength: {\n      type: [Number, String],\n      default: Number.MAX_VALUE\n    },\n    transition: {\n      type: Boolean,\n      default: true\n    },\n    showDeleteKey: {\n      type: Boolean,\n      default: true\n    },\n    hideOnClickOutside: {\n      type: Boolean,\n      default: true\n    },\n    safeAreaInsetBottom: {\n      type: Boolean,\n      default: true\n    }\n  },\n  watch: {\n    show: function show(val) {\n      if (!this.transition) {\n        this.$emit(val ? 'show' : 'hide');\n      }\n    }\n  },\n  computed: {\n    keys: function keys() {\n      if (this.theme === 'custom') {\n        return this.genCustomKeys();\n      }\n\n      return this.genDefaultKeys();\n    }\n  },\n  methods: {\n    genBasicKeys: function genBasicKeys() {\n      var keys = [];\n\n      for (var i = 1; i <= 9; i++) {\n        keys.push({\n          text: i\n        });\n      }\n\n      if (this.randomKeyOrder) {\n        keys.sort(function () {\n          return Math.random() > 0.5 ? 1 : -1;\n        });\n      }\n\n      return keys;\n    },\n    genDefaultKeys: function genDefaultKeys() {\n      return [].concat(this.genBasicKeys(), [{\n        text: this.extraKey,\n        type: 'extra'\n      }, {\n        text: 0\n      }, {\n        text: this.showDeleteKey ? this.deleteButtonText : '',\n        type: this.showDeleteKey ? 'delete' : ''\n      }]);\n    },\n    genCustomKeys: function genCustomKeys() {\n      var keys = this.genBasicKeys();\n      var extraKey = this.extraKey;\n      var extraKeys = Array.isArray(extraKey) ? extraKey : [extraKey];\n\n      if (extraKeys.length === 1) {\n        keys.push({\n          text: 0,\n          wider: true\n        }, {\n          text: extraKeys[0],\n          type: 'extra'\n        });\n      } else if (extraKeys.length === 2) {\n        keys.push({\n          text: extraKeys[0],\n          type: 'extra'\n        }, {\n          text: 0\n        }, {\n          text: extraKeys[1],\n          type: 'extra'\n        });\n      }\n\n      return keys;\n    },\n    onBlur: function onBlur() {\n      this.show && this.$emit('blur');\n    },\n    onClose: function onClose() {\n      this.$emit('close');\n      this.onBlur();\n    },\n    onAnimationEnd: function onAnimationEnd() {\n      this.$emit(this.show ? 'show' : 'hide');\n    },\n    onPress: function onPress(text, type) {\n      if (text === '') {\n        if (type === 'extra') {\n          this.onBlur();\n        }\n\n        return;\n      }\n\n      var value = this.value;\n\n      if (type === 'delete') {\n        this.$emit('delete');\n        this.$emit('update:value', value.slice(0, value.length - 1));\n      } else if (type === 'close') {\n        this.onClose();\n      } else if (value.length < this.maxlength) {\n        this.$emit('input', text);\n        this.$emit('update:value', value + text);\n      }\n    },\n    genTitle: function genTitle() {\n      var h = this.$createElement;\n      var title = this.title,\n          theme = this.theme,\n          closeButtonText = this.closeButtonText;\n      var titleLeft = this.slots('title-left');\n      var showClose = closeButtonText && theme === 'default';\n      var showTitle = title || showClose || titleLeft;\n\n      if (!showTitle) {\n        return;\n      }\n\n      return h(\"div\", {\n        \"class\": bem('header')\n      }, [titleLeft && h(\"span\", {\n        \"class\": bem('title-left')\n      }, [titleLeft]), title && h(\"h2\", {\n        \"class\": bem('title')\n      }, [title]), showClose && h(\"button\", {\n        \"attrs\": {\n          \"type\": \"button\"\n        },\n        \"class\": bem('close'),\n        \"on\": {\n          \"click\": this.onClose\n        }\n      }, [closeButtonText])]);\n    },\n    genKeys: function genKeys() {\n      var _this = this;\n\n      var h = this.$createElement;\n      return this.keys.map(function (key) {\n        return h(Key, {\n          \"key\": key.text,\n          \"attrs\": {\n            \"text\": key.text,\n            \"type\": key.type,\n            \"wider\": key.wider,\n            \"color\": key.color\n          },\n          \"on\": {\n            \"press\": _this.onPress\n          }\n        }, [key.type === 'delete' && _this.slots('delete'), key.type === 'extra' && _this.slots('extra-key')]);\n      });\n    },\n    genSidebar: function genSidebar() {\n      var h = this.$createElement;\n\n      if (this.theme === 'custom') {\n        return h(\"div\", {\n          \"class\": bem('sidebar')\n        }, [this.showDeleteKey && h(Key, {\n          \"attrs\": {\n            \"large\": true,\n            \"text\": this.deleteButtonText,\n            \"type\": \"delete\"\n          },\n          \"on\": {\n            \"press\": this.onPress\n          }\n        }, [this.slots('delete')]), h(Key, {\n          \"attrs\": {\n            \"large\": true,\n            \"text\": this.closeButtonText,\n            \"type\": \"close\",\n            \"color\": \"blue\",\n            \"loading\": this.closeButtonLoading\n          },\n          \"on\": {\n            \"press\": this.onPress\n          }\n        })]);\n      }\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    var Title = this.genTitle();\n    return h(\"transition\", {\n      \"attrs\": {\n        \"name\": this.transition ? 'van-slide-up' : ''\n      }\n    }, [h(\"div\", {\n      \"directives\": [{\n        name: \"show\",\n        value: this.show\n      }],\n      \"style\": {\n        zIndex: this.zIndex\n      },\n      \"class\": bem({\n        unfit: !this.safeAreaInsetBottom,\n        'with-title': Title\n      }),\n      \"on\": {\n        \"touchstart\": stopPropagation,\n        \"animationend\": this.onAnimationEnd,\n        \"webkitAnimationEnd\": this.onAnimationEnd\n      }\n    }, [Title, h(\"div\", {\n      \"class\": bem('body')\n    }, [h(\"div\", {\n      \"class\": bem('keys')\n    }, [this.genKeys()]), this.genSidebar()])])]);\n  }\n});"]},"metadata":{},"sourceType":"module"}