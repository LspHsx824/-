{"ast":null,"code":"import \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.regexp.sticky.js\";\nimport { createNamespace } from '../utils';\nimport { ChildrenMixin } from '../mixins/relation';\nimport { BORDER_BOTTOM } from '../utils/constant';\nimport { getScrollTop, getRootScrollTop } from '../utils/dom/scroll';\n\nvar _createNamespace = createNamespace('index-anchor'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  mixins: [ChildrenMixin('vanIndexBar', {\n    indexKey: 'childrenIndex'\n  })],\n  props: {\n    index: [Number, String]\n  },\n  data: function data() {\n    return {\n      top: 0,\n      left: null,\n      rect: {\n        top: 0,\n        height: 0\n      },\n      width: null,\n      active: false\n    };\n  },\n  computed: {\n    sticky: function sticky() {\n      return this.active && this.parent.sticky;\n    },\n    anchorStyle: function anchorStyle() {\n      if (this.sticky) {\n        return {\n          zIndex: \"\" + this.parent.zIndex,\n          left: this.left ? this.left + \"px\" : null,\n          width: this.width ? this.width + \"px\" : null,\n          transform: \"translate3d(0, \" + this.top + \"px, 0)\",\n          color: this.parent.highlightColor\n        };\n      }\n    }\n  },\n  mounted: function mounted() {\n    var rect = this.$el.getBoundingClientRect();\n    this.rect.height = rect.height;\n  },\n  methods: {\n    scrollIntoView: function scrollIntoView() {\n      this.$el.scrollIntoView();\n    },\n    getRect: function getRect(scroller, scrollerRect) {\n      var el = this.$el;\n      var elRect = el.getBoundingClientRect();\n      this.rect.height = elRect.height;\n\n      if (scroller === window || scroller === document.body) {\n        this.rect.top = elRect.top + getRootScrollTop();\n      } else {\n        this.rect.top = elRect.top + getScrollTop(scroller) - scrollerRect.top;\n      }\n\n      return this.rect;\n    }\n  },\n  render: function render() {\n    var _ref;\n\n    var h = arguments[0];\n    var sticky = this.sticky;\n    return h(\"div\", {\n      \"style\": {\n        height: sticky ? this.rect.height + \"px\" : null\n      }\n    }, [h(\"div\", {\n      \"style\": this.anchorStyle,\n      \"class\": [bem({\n        sticky: sticky\n      }), (_ref = {}, _ref[BORDER_BOTTOM] = sticky, _ref)]\n    }, [this.slots('default') || this.index])]);\n  }\n});","map":{"version":3,"sources":["C:/Users/Lisp/Desktop/Vue-app/items/node_modules/vant/es/index-anchor/index.js"],"names":["createNamespace","ChildrenMixin","BORDER_BOTTOM","getScrollTop","getRootScrollTop","_createNamespace","createComponent","bem","mixins","indexKey","props","index","Number","String","data","top","left","rect","height","width","active","computed","sticky","parent","anchorStyle","zIndex","transform","color","highlightColor","mounted","$el","getBoundingClientRect","methods","scrollIntoView","getRect","scroller","scrollerRect","el","elRect","window","document","body","render","_ref","h","arguments","slots"],"mappings":"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","sourcesContent":["import { createNamespace } from '../utils';\nimport { ChildrenMixin } from '../mixins/relation';\nimport { BORDER_BOTTOM } from '../utils/constant';\nimport { getScrollTop, getRootScrollTop } from '../utils/dom/scroll';\n\nvar _createNamespace = createNamespace('index-anchor'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  mixins: [ChildrenMixin('vanIndexBar', {\n    indexKey: 'childrenIndex'\n  })],\n  props: {\n    index: [Number, String]\n  },\n  data: function data() {\n    return {\n      top: 0,\n      left: null,\n      rect: {\n        top: 0,\n        height: 0\n      },\n      width: null,\n      active: false\n    };\n  },\n  computed: {\n    sticky: function sticky() {\n      return this.active && this.parent.sticky;\n    },\n    anchorStyle: function anchorStyle() {\n      if (this.sticky) {\n        return {\n          zIndex: \"\" + this.parent.zIndex,\n          left: this.left ? this.left + \"px\" : null,\n          width: this.width ? this.width + \"px\" : null,\n          transform: \"translate3d(0, \" + this.top + \"px, 0)\",\n          color: this.parent.highlightColor\n        };\n      }\n    }\n  },\n  mounted: function mounted() {\n    var rect = this.$el.getBoundingClientRect();\n    this.rect.height = rect.height;\n  },\n  methods: {\n    scrollIntoView: function scrollIntoView() {\n      this.$el.scrollIntoView();\n    },\n    getRect: function getRect(scroller, scrollerRect) {\n      var el = this.$el;\n      var elRect = el.getBoundingClientRect();\n      this.rect.height = elRect.height;\n\n      if (scroller === window || scroller === document.body) {\n        this.rect.top = elRect.top + getRootScrollTop();\n      } else {\n        this.rect.top = elRect.top + getScrollTop(scroller) - scrollerRect.top;\n      }\n\n      return this.rect;\n    }\n  },\n  render: function render() {\n    var _ref;\n\n    var h = arguments[0];\n    var sticky = this.sticky;\n    return h(\"div\", {\n      \"style\": {\n        height: sticky ? this.rect.height + \"px\" : null\n      }\n    }, [h(\"div\", {\n      \"style\": this.anchorStyle,\n      \"class\": [bem({\n        sticky: sticky\n      }), (_ref = {}, _ref[BORDER_BOTTOM] = sticky, _ref)]\n    }, [this.slots('default') || this.index])]);\n  }\n});"]},"metadata":{},"sourceType":"module"}