{"ast":null,"code":"import \"core-js/modules/es.function.name.js\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { bem } from './SkuRow';\nimport { createNamespace } from '../../utils';\nimport { isSkuChoosable } from '../utils/sku-helper';\nimport { ChildrenMixin } from '../../mixins/relation';\nimport Icon from '../../icon';\nimport Image from '../../image';\n\nvar _createNamespace = createNamespace('sku-row-item'),\n    createComponent = _createNamespace[0];\n\nexport default createComponent({\n  mixins: [ChildrenMixin('vanSkuRows')],\n  props: {\n    lazyLoad: Boolean,\n    skuValue: Object,\n    skuKeyStr: String,\n    skuEventBus: Object,\n    selectedSku: Object,\n    largeImageMode: Boolean,\n    disableSoldoutSku: Boolean,\n    skuList: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    }\n  },\n  computed: {\n    imgUrl: function imgUrl() {\n      var url = this.skuValue.imgUrl || this.skuValue.img_url;\n      return this.largeImageMode ? url || 'https://img01.yzcdn.cn/upload_files/2020/06/24/FmKWDg0bN9rMcTp9ne8MXiQWGtLn.png' : url;\n    },\n    choosable: function choosable() {\n      if (!this.disableSoldoutSku) {\n        return true;\n      }\n\n      return isSkuChoosable(this.skuList, this.selectedSku, {\n        key: this.skuKeyStr,\n        valueId: this.skuValue.id\n      });\n    }\n  },\n  methods: {\n    onSelect: function onSelect() {\n      if (this.choosable) {\n        this.skuEventBus.$emit('sku:select', _extends({}, this.skuValue, {\n          skuKeyStr: this.skuKeyStr\n        }));\n      }\n    },\n    onPreviewImg: function onPreviewImg(event) {\n      event.stopPropagation();\n      var skuValue = this.skuValue,\n          skuKeyStr = this.skuKeyStr;\n      this.skuEventBus.$emit('sku:previewImage', _extends({}, skuValue, {\n        ks: skuKeyStr,\n        imgUrl: skuValue.imgUrl || skuValue.img_url\n      }));\n    },\n    genImage: function genImage(classPrefix) {\n      var h = this.$createElement;\n\n      if (this.imgUrl) {\n        return h(Image, {\n          \"attrs\": {\n            \"fit\": \"cover\",\n            \"src\": this.imgUrl,\n            \"lazyLoad\": this.lazyLoad\n          },\n          \"class\": classPrefix + \"-img\"\n        });\n      }\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    var choosed = this.skuValue.id === this.selectedSku[this.skuKeyStr];\n    var classPrefix = this.largeImageMode ? bem('image-item') : bem('item');\n    return h(\"span\", {\n      \"class\": [classPrefix, choosed ? classPrefix + \"--active\" : '', !this.choosable ? classPrefix + \"--disabled\" : ''],\n      \"on\": {\n        \"click\": this.onSelect\n      }\n    }, [this.genImage(classPrefix), h(\"div\", {\n      \"class\": classPrefix + \"-name\"\n    }, [this.largeImageMode ? h(\"span\", {\n      \"class\": {\n        'van-multi-ellipsis--l2': this.largeImageMode\n      }\n    }, [this.skuValue.name]) : this.skuValue.name]), this.largeImageMode && h(Icon, {\n      \"attrs\": {\n        \"name\": \"enlarge\"\n      },\n      \"class\": classPrefix + \"-img-icon\",\n      \"on\": {\n        \"click\": this.onPreviewImg\n      }\n    })]);\n  }\n});","map":{"version":3,"sources":["C:/Users/Lisp/Desktop/items/node_modules/vant/es/sku/components/SkuRowItem.js"],"names":["_extends","bem","createNamespace","isSkuChoosable","ChildrenMixin","Icon","Image","_createNamespace","createComponent","mixins","props","lazyLoad","Boolean","skuValue","Object","skuKeyStr","String","skuEventBus","selectedSku","largeImageMode","disableSoldoutSku","skuList","type","Array","default","_default","computed","imgUrl","url","img_url","choosable","key","valueId","id","methods","onSelect","$emit","onPreviewImg","event","stopPropagation","ks","genImage","classPrefix","h","$createElement","render","arguments","choosed","name"],"mappings":";AAAA,OAAOA,QAAP,MAAqB,oCAArB;AACA,SAASC,GAAT,QAAoB,UAApB;AACA,SAASC,eAAT,QAAgC,aAAhC;AACA,SAASC,cAAT,QAA+B,qBAA/B;AACA,SAASC,aAAT,QAA8B,uBAA9B;AACA,OAAOC,IAAP,MAAiB,YAAjB;AACA,OAAOC,KAAP,MAAkB,aAAlB;;AAEA,IAAIC,gBAAgB,GAAGL,eAAe,CAAC,cAAD,CAAtC;AAAA,IACIM,eAAe,GAAGD,gBAAgB,CAAC,CAAD,CADtC;;AAGA,eAAeC,eAAe,CAAC;AAC7BC,EAAAA,MAAM,EAAE,CAACL,aAAa,CAAC,YAAD,CAAd,CADqB;AAE7BM,EAAAA,KAAK,EAAE;AACLC,IAAAA,QAAQ,EAAEC,OADL;AAELC,IAAAA,QAAQ,EAAEC,MAFL;AAGLC,IAAAA,SAAS,EAAEC,MAHN;AAILC,IAAAA,WAAW,EAAEH,MAJR;AAKLI,IAAAA,WAAW,EAAEJ,MALR;AAMLK,IAAAA,cAAc,EAAEP,OANX;AAOLQ,IAAAA,iBAAiB,EAAER,OAPd;AAQLS,IAAAA,OAAO,EAAE;AACPC,MAAAA,IAAI,EAAEC,KADC;AAEPC,MAAAA,OAAO,EAAE,SAASC,QAAT,GAAoB;AAC3B,eAAO,EAAP;AACD;AAJM;AARJ,GAFsB;AAiB7BC,EAAAA,QAAQ,EAAE;AACRC,IAAAA,MAAM,EAAE,SAASA,MAAT,GAAkB;AACxB,UAAIC,GAAG,GAAG,KAAKf,QAAL,CAAcc,MAAd,IAAwB,KAAKd,QAAL,CAAcgB,OAAhD;AACA,aAAO,KAAKV,cAAL,GAAsBS,GAAG,IAAI,iFAA7B,GAAiHA,GAAxH;AACD,KAJO;AAKRE,IAAAA,SAAS,EAAE,SAASA,SAAT,GAAqB;AAC9B,UAAI,CAAC,KAAKV,iBAAV,EAA6B;AAC3B,eAAO,IAAP;AACD;;AAED,aAAOjB,cAAc,CAAC,KAAKkB,OAAN,EAAe,KAAKH,WAApB,EAAiC;AACpDa,QAAAA,GAAG,EAAE,KAAKhB,SAD0C;AAEpDiB,QAAAA,OAAO,EAAE,KAAKnB,QAAL,CAAcoB;AAF6B,OAAjC,CAArB;AAID;AAdO,GAjBmB;AAiC7BC,EAAAA,OAAO,EAAE;AACPC,IAAAA,QAAQ,EAAE,SAASA,QAAT,GAAoB;AAC5B,UAAI,KAAKL,SAAT,EAAoB;AAClB,aAAKb,WAAL,CAAiBmB,KAAjB,CAAuB,YAAvB,EAAqCpC,QAAQ,CAAC,EAAD,EAAK,KAAKa,QAAV,EAAoB;AAC/DE,UAAAA,SAAS,EAAE,KAAKA;AAD+C,SAApB,CAA7C;AAGD;AACF,KAPM;AAQPsB,IAAAA,YAAY,EAAE,SAASA,YAAT,CAAsBC,KAAtB,EAA6B;AACzCA,MAAAA,KAAK,CAACC,eAAN;AACA,UAAI1B,QAAQ,GAAG,KAAKA,QAApB;AAAA,UACIE,SAAS,GAAG,KAAKA,SADrB;AAEA,WAAKE,WAAL,CAAiBmB,KAAjB,CAAuB,kBAAvB,EAA2CpC,QAAQ,CAAC,EAAD,EAAKa,QAAL,EAAe;AAChE2B,QAAAA,EAAE,EAAEzB,SAD4D;AAEhEY,QAAAA,MAAM,EAAEd,QAAQ,CAACc,MAAT,IAAmBd,QAAQ,CAACgB;AAF4B,OAAf,CAAnD;AAID,KAhBM;AAiBPY,IAAAA,QAAQ,EAAE,SAASA,QAAT,CAAkBC,WAAlB,EAA+B;AACvC,UAAIC,CAAC,GAAG,KAAKC,cAAb;;AAEA,UAAI,KAAKjB,MAAT,EAAiB;AACf,eAAOgB,CAAC,CAACrC,KAAD,EAAQ;AACd,mBAAS;AACP,mBAAO,OADA;AAEP,mBAAO,KAAKqB,MAFL;AAGP,wBAAY,KAAKhB;AAHV,WADK;AAMd,mBAAS+B,WAAW,GAAG;AANT,SAAR,CAAR;AAQD;AACF;AA9BM,GAjCoB;AAiE7BG,EAAAA,MAAM,EAAE,SAASA,MAAT,GAAkB;AACxB,QAAIF,CAAC,GAAGG,SAAS,CAAC,CAAD,CAAjB;AACA,QAAIC,OAAO,GAAG,KAAKlC,QAAL,CAAcoB,EAAd,KAAqB,KAAKf,WAAL,CAAiB,KAAKH,SAAtB,CAAnC;AACA,QAAI2B,WAAW,GAAG,KAAKvB,cAAL,GAAsBlB,GAAG,CAAC,YAAD,CAAzB,GAA0CA,GAAG,CAAC,MAAD,CAA/D;AACA,WAAO0C,CAAC,CAAC,MAAD,EAAS;AACf,eAAS,CAACD,WAAD,EAAcK,OAAO,GAAGL,WAAW,GAAG,UAAjB,GAA8B,EAAnD,EAAuD,CAAC,KAAKZ,SAAN,GAAkBY,WAAW,GAAG,YAAhC,GAA+C,EAAtG,CADM;AAEf,YAAM;AACJ,iBAAS,KAAKP;AADV;AAFS,KAAT,EAKL,CAAC,KAAKM,QAAL,CAAcC,WAAd,CAAD,EAA6BC,CAAC,CAAC,KAAD,EAAQ;AACvC,eAASD,WAAW,GAAG;AADgB,KAAR,EAE9B,CAAC,KAAKvB,cAAL,GAAsBwB,CAAC,CAAC,MAAD,EAAS;AAClC,eAAS;AACP,kCAA0B,KAAKxB;AADxB;AADyB,KAAT,EAIxB,CAAC,KAAKN,QAAL,CAAcmC,IAAf,CAJwB,CAAvB,GAIuB,KAAKnC,QAAL,CAAcmC,IAJtC,CAF8B,CAA9B,EAM8C,KAAK7B,cAAL,IAAuBwB,CAAC,CAACtC,IAAD,EAAO;AAC9E,eAAS;AACP,gBAAQ;AADD,OADqE;AAI9E,eAASqC,WAAW,GAAG,WAJuD;AAK9E,YAAM;AACJ,iBAAS,KAAKL;AADV;AALwE,KAAP,CANtE,CALK,CAAR;AAoBD;AAzF4B,CAAD,CAA9B","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { bem } from './SkuRow';\nimport { createNamespace } from '../../utils';\nimport { isSkuChoosable } from '../utils/sku-helper';\nimport { ChildrenMixin } from '../../mixins/relation';\nimport Icon from '../../icon';\nimport Image from '../../image';\n\nvar _createNamespace = createNamespace('sku-row-item'),\n    createComponent = _createNamespace[0];\n\nexport default createComponent({\n  mixins: [ChildrenMixin('vanSkuRows')],\n  props: {\n    lazyLoad: Boolean,\n    skuValue: Object,\n    skuKeyStr: String,\n    skuEventBus: Object,\n    selectedSku: Object,\n    largeImageMode: Boolean,\n    disableSoldoutSku: Boolean,\n    skuList: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    }\n  },\n  computed: {\n    imgUrl: function imgUrl() {\n      var url = this.skuValue.imgUrl || this.skuValue.img_url;\n      return this.largeImageMode ? url || 'https://img01.yzcdn.cn/upload_files/2020/06/24/FmKWDg0bN9rMcTp9ne8MXiQWGtLn.png' : url;\n    },\n    choosable: function choosable() {\n      if (!this.disableSoldoutSku) {\n        return true;\n      }\n\n      return isSkuChoosable(this.skuList, this.selectedSku, {\n        key: this.skuKeyStr,\n        valueId: this.skuValue.id\n      });\n    }\n  },\n  methods: {\n    onSelect: function onSelect() {\n      if (this.choosable) {\n        this.skuEventBus.$emit('sku:select', _extends({}, this.skuValue, {\n          skuKeyStr: this.skuKeyStr\n        }));\n      }\n    },\n    onPreviewImg: function onPreviewImg(event) {\n      event.stopPropagation();\n      var skuValue = this.skuValue,\n          skuKeyStr = this.skuKeyStr;\n      this.skuEventBus.$emit('sku:previewImage', _extends({}, skuValue, {\n        ks: skuKeyStr,\n        imgUrl: skuValue.imgUrl || skuValue.img_url\n      }));\n    },\n    genImage: function genImage(classPrefix) {\n      var h = this.$createElement;\n\n      if (this.imgUrl) {\n        return h(Image, {\n          \"attrs\": {\n            \"fit\": \"cover\",\n            \"src\": this.imgUrl,\n            \"lazyLoad\": this.lazyLoad\n          },\n          \"class\": classPrefix + \"-img\"\n        });\n      }\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    var choosed = this.skuValue.id === this.selectedSku[this.skuKeyStr];\n    var classPrefix = this.largeImageMode ? bem('image-item') : bem('item');\n    return h(\"span\", {\n      \"class\": [classPrefix, choosed ? classPrefix + \"--active\" : '', !this.choosable ? classPrefix + \"--disabled\" : ''],\n      \"on\": {\n        \"click\": this.onSelect\n      }\n    }, [this.genImage(classPrefix), h(\"div\", {\n      \"class\": classPrefix + \"-name\"\n    }, [this.largeImageMode ? h(\"span\", {\n      \"class\": {\n        'van-multi-ellipsis--l2': this.largeImageMode\n      }\n    }, [this.skuValue.name]) : this.skuValue.name]), this.largeImageMode && h(Icon, {\n      \"attrs\": {\n        \"name\": \"enlarge\"\n      },\n      \"class\": classPrefix + \"-img-icon\",\n      \"on\": {\n        \"click\": this.onPreviewImg\n      }\n    })]);\n  }\n});"]},"metadata":{},"sourceType":"module"}