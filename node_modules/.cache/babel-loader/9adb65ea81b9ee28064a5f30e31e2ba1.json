{"ast":null,"code":"import \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.regexp.sticky.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.array.map.js\";\n// Utils\nimport { createNamespace, isDef, addUnit } from '../utils';\nimport { scrollLeftTo, scrollTopTo } from './utils';\nimport { route } from '../utils/router';\nimport { isHidden } from '../utils/dom/style';\nimport { on, off } from '../utils/dom/event';\nimport { unitToPx } from '../utils/format/unit';\nimport { BORDER_TOP_BOTTOM } from '../utils/constant';\nimport { callInterceptor } from '../utils/interceptor';\nimport { getScroller, getVisibleTop, getElementTop, getVisibleHeight, setRootScrollTop } from '../utils/dom/scroll'; // Mixins\n\nimport { ParentMixin } from '../mixins/relation';\nimport { BindEventMixin } from '../mixins/bind-event'; // Components\n\nimport Title from './Title';\nimport Sticky from '../sticky';\nimport Content from './Content';\n\nvar _createNamespace = createNamespace('tabs'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  mixins: [ParentMixin('vanTabs'), BindEventMixin(function (bind) {\n    if (!this.scroller) {\n      this.scroller = getScroller(this.$el);\n    }\n\n    bind(window, 'resize', this.resize, true);\n\n    if (this.scrollspy) {\n      bind(this.scroller, 'scroll', this.onScroll, true);\n    }\n  })],\n  inject: {\n    vanPopup: {\n      default: null\n    }\n  },\n  model: {\n    prop: 'active'\n  },\n  props: {\n    color: String,\n    border: Boolean,\n    sticky: Boolean,\n    animated: Boolean,\n    swipeable: Boolean,\n    scrollspy: Boolean,\n    background: String,\n    lineWidth: [Number, String],\n    lineHeight: [Number, String],\n    beforeChange: Function,\n    titleActiveColor: String,\n    titleInactiveColor: String,\n    type: {\n      type: String,\n      default: 'line'\n    },\n    active: {\n      type: [Number, String],\n      default: 0\n    },\n    ellipsis: {\n      type: Boolean,\n      default: true\n    },\n    duration: {\n      type: [Number, String],\n      default: 0.3\n    },\n    offsetTop: {\n      type: [Number, String],\n      default: 0\n    },\n    lazyRender: {\n      type: Boolean,\n      default: true\n    },\n    swipeThreshold: {\n      type: [Number, String],\n      default: 5\n    }\n  },\n  data: function data() {\n    return {\n      position: '',\n      currentIndex: null,\n      lineStyle: {\n        backgroundColor: this.color\n      }\n    };\n  },\n  computed: {\n    // whether the nav is scrollable\n    scrollable: function scrollable() {\n      return this.children.length > this.swipeThreshold || !this.ellipsis;\n    },\n    navStyle: function navStyle() {\n      return {\n        borderColor: this.color,\n        background: this.background\n      };\n    },\n    currentName: function currentName() {\n      var activeTab = this.children[this.currentIndex];\n\n      if (activeTab) {\n        return activeTab.computedName;\n      }\n    },\n    offsetTopPx: function offsetTopPx() {\n      return unitToPx(this.offsetTop);\n    },\n    scrollOffset: function scrollOffset() {\n      if (this.sticky) {\n        return this.offsetTopPx + this.tabHeight;\n      }\n\n      return 0;\n    }\n  },\n  watch: {\n    color: 'setLine',\n    active: function active(name) {\n      if (name !== this.currentName) {\n        this.setCurrentIndexByName(name);\n      }\n    },\n    children: function children() {\n      var _this = this;\n\n      this.setCurrentIndexByName(this.active);\n      this.setLine();\n      this.$nextTick(function () {\n        _this.scrollIntoView(true);\n      });\n    },\n    currentIndex: function currentIndex() {\n      this.scrollIntoView();\n      this.setLine(); // scroll to correct position\n\n      if (this.stickyFixed && !this.scrollspy) {\n        setRootScrollTop(Math.ceil(getElementTop(this.$el) - this.offsetTopPx));\n      }\n    },\n    scrollspy: function scrollspy(val) {\n      if (val) {\n        on(this.scroller, 'scroll', this.onScroll, true);\n      } else {\n        off(this.scroller, 'scroll', this.onScroll);\n      }\n    }\n  },\n  mounted: function mounted() {\n    var _this2 = this;\n\n    this.init(); // https://github.com/youzan/vant/issues/7959\n\n    if (this.vanPopup) {\n      this.vanPopup.onReopen(function () {\n        _this2.setLine();\n      });\n    }\n  },\n  activated: function activated() {\n    this.init();\n    this.setLine();\n  },\n  methods: {\n    // @exposed-api\n    resize: function resize() {\n      this.setLine();\n    },\n    init: function init() {\n      var _this3 = this;\n\n      this.$nextTick(function () {\n        _this3.inited = true;\n        _this3.tabHeight = getVisibleHeight(_this3.$refs.wrap);\n\n        _this3.scrollIntoView(true);\n      });\n    },\n    // update nav bar style\n    setLine: function setLine() {\n      var _this4 = this;\n\n      var shouldAnimate = this.inited;\n      this.$nextTick(function () {\n        var titles = _this4.$refs.titles;\n\n        if (!titles || !titles[_this4.currentIndex] || _this4.type !== 'line' || isHidden(_this4.$el)) {\n          return;\n        }\n\n        var title = titles[_this4.currentIndex].$el;\n        var lineWidth = _this4.lineWidth,\n            lineHeight = _this4.lineHeight;\n        var left = title.offsetLeft + title.offsetWidth / 2;\n        var lineStyle = {\n          width: addUnit(lineWidth),\n          backgroundColor: _this4.color,\n          transform: \"translateX(\" + left + \"px) translateX(-50%)\"\n        };\n\n        if (shouldAnimate) {\n          lineStyle.transitionDuration = _this4.duration + \"s\";\n        }\n\n        if (isDef(lineHeight)) {\n          var height = addUnit(lineHeight);\n          lineStyle.height = height;\n          lineStyle.borderRadius = height;\n        }\n\n        _this4.lineStyle = lineStyle;\n      });\n    },\n    // correct the index of active tab\n    setCurrentIndexByName: function setCurrentIndexByName(name) {\n      var matched = this.children.filter(function (tab) {\n        return tab.computedName === name;\n      });\n      var defaultIndex = (this.children[0] || {}).index || 0;\n      this.setCurrentIndex(matched.length ? matched[0].index : defaultIndex);\n    },\n    setCurrentIndex: function setCurrentIndex(currentIndex) {\n      var newIndex = this.findAvailableTab(currentIndex);\n\n      if (!isDef(newIndex)) {\n        return;\n      }\n\n      var newTab = this.children[newIndex];\n      var newName = newTab.computedName;\n      var shouldEmitChange = this.currentIndex !== null;\n      this.currentIndex = newIndex;\n\n      if (newName !== this.active) {\n        this.$emit('input', newName);\n\n        if (shouldEmitChange) {\n          this.$emit('change', newName, newTab.title);\n        }\n      }\n    },\n    findAvailableTab: function findAvailableTab(index) {\n      var diff = index < this.currentIndex ? -1 : 1;\n\n      while (index >= 0 && index < this.children.length) {\n        if (!this.children[index].disabled) {\n          return index;\n        }\n\n        index += diff;\n      }\n    },\n    // emit event when clicked\n    onClick: function onClick(item, index) {\n      var _this5 = this;\n\n      var _this$children$index = this.children[index],\n          title = _this$children$index.title,\n          disabled = _this$children$index.disabled,\n          computedName = _this$children$index.computedName;\n\n      if (disabled) {\n        this.$emit('disabled', computedName, title);\n      } else {\n        callInterceptor({\n          interceptor: this.beforeChange,\n          args: [computedName],\n          done: function done() {\n            _this5.setCurrentIndex(index);\n\n            _this5.scrollToCurrentContent();\n          }\n        });\n        this.$emit('click', computedName, title);\n        route(item.$router, item);\n      }\n    },\n    // scroll active tab into view\n    scrollIntoView: function scrollIntoView(immediate) {\n      var titles = this.$refs.titles;\n\n      if (!this.scrollable || !titles || !titles[this.currentIndex]) {\n        return;\n      }\n\n      var nav = this.$refs.nav;\n      var title = titles[this.currentIndex].$el;\n      var to = title.offsetLeft - (nav.offsetWidth - title.offsetWidth) / 2;\n      scrollLeftTo(nav, to, immediate ? 0 : +this.duration);\n    },\n    onSticktScroll: function onSticktScroll(params) {\n      this.stickyFixed = params.isFixed;\n      this.$emit('scroll', params);\n    },\n    // @exposed-api\n    scrollTo: function scrollTo(name) {\n      var _this6 = this;\n\n      this.$nextTick(function () {\n        _this6.setCurrentIndexByName(name);\n\n        _this6.scrollToCurrentContent(true);\n      });\n    },\n    scrollToCurrentContent: function scrollToCurrentContent(immediate) {\n      var _this7 = this;\n\n      if (immediate === void 0) {\n        immediate = false;\n      }\n\n      if (this.scrollspy) {\n        var target = this.children[this.currentIndex];\n        var el = target == null ? void 0 : target.$el;\n\n        if (el) {\n          var to = getElementTop(el, this.scroller) - this.scrollOffset;\n          this.lockScroll = true;\n          scrollTopTo(this.scroller, to, immediate ? 0 : +this.duration, function () {\n            _this7.lockScroll = false;\n          });\n        }\n      }\n    },\n    onScroll: function onScroll() {\n      if (this.scrollspy && !this.lockScroll) {\n        var index = this.getCurrentIndexOnScroll();\n        this.setCurrentIndex(index);\n      }\n    },\n    getCurrentIndexOnScroll: function getCurrentIndexOnScroll() {\n      var children = this.children;\n\n      for (var index = 0; index < children.length; index++) {\n        var top = getVisibleTop(children[index].$el);\n\n        if (top > this.scrollOffset) {\n          return index === 0 ? 0 : index - 1;\n        }\n      }\n\n      return children.length - 1;\n    }\n  },\n  render: function render() {\n    var _this8 = this,\n        _ref;\n\n    var h = arguments[0];\n    var type = this.type,\n        animated = this.animated,\n        scrollable = this.scrollable;\n    var Nav = this.children.map(function (item, index) {\n      var _item$badge;\n\n      return h(Title, {\n        \"ref\": \"titles\",\n        \"refInFor\": true,\n        \"attrs\": {\n          \"type\": type,\n          \"dot\": item.dot,\n          \"info\": (_item$badge = item.badge) != null ? _item$badge : item.info,\n          \"title\": item.title,\n          \"color\": _this8.color,\n          \"isActive\": index === _this8.currentIndex,\n          \"disabled\": item.disabled,\n          \"scrollable\": scrollable,\n          \"activeColor\": _this8.titleActiveColor,\n          \"inactiveColor\": _this8.titleInactiveColor\n        },\n        \"style\": item.titleStyle,\n        \"class\": item.titleClass,\n        \"scopedSlots\": {\n          default: function _default() {\n            return item.slots('title');\n          }\n        },\n        \"on\": {\n          \"click\": function click() {\n            _this8.onClick(item, index);\n          }\n        }\n      });\n    });\n    var Wrap = h(\"div\", {\n      \"ref\": \"wrap\",\n      \"class\": [bem('wrap', {\n        scrollable: scrollable\n      }), (_ref = {}, _ref[BORDER_TOP_BOTTOM] = type === 'line' && this.border, _ref)]\n    }, [h(\"div\", {\n      \"ref\": \"nav\",\n      \"attrs\": {\n        \"role\": \"tablist\"\n      },\n      \"class\": bem('nav', [type, {\n        complete: this.scrollable\n      }]),\n      \"style\": this.navStyle\n    }, [this.slots('nav-left'), Nav, type === 'line' && h(\"div\", {\n      \"class\": bem('line'),\n      \"style\": this.lineStyle\n    }), this.slots('nav-right')])]);\n    return h(\"div\", {\n      \"class\": bem([type])\n    }, [this.sticky ? h(Sticky, {\n      \"attrs\": {\n        \"container\": this.$el,\n        \"offsetTop\": this.offsetTop\n      },\n      \"on\": {\n        \"scroll\": this.onSticktScroll\n      }\n    }, [Wrap]) : Wrap, h(Content, {\n      \"attrs\": {\n        \"count\": this.children.length,\n        \"animated\": animated,\n        \"duration\": this.duration,\n        \"swipeable\": this.swipeable,\n        \"currentIndex\": this.currentIndex\n      },\n      \"on\": {\n        \"change\": this.setCurrentIndex\n      }\n    }, [this.slots()])]);\n  }\n});","map":{"version":3,"sources":["C:/Users/Lisp/Desktop/Vue-app/items/node_modules/vant/es/tabs/index.js"],"names":["createNamespace","isDef","addUnit","scrollLeftTo","scrollTopTo","route","isHidden","on","off","unitToPx","BORDER_TOP_BOTTOM","callInterceptor","getScroller","getVisibleTop","getElementTop","getVisibleHeight","setRootScrollTop","ParentMixin","BindEventMixin","Title","Sticky","Content","_createNamespace","createComponent","bem","mixins","bind","scroller","$el","window","resize","scrollspy","onScroll","inject","vanPopup","default","model","prop","props","color","String","border","Boolean","sticky","animated","swipeable","background","lineWidth","Number","lineHeight","beforeChange","Function","titleActiveColor","titleInactiveColor","type","active","ellipsis","duration","offsetTop","lazyRender","swipeThreshold","data","position","currentIndex","lineStyle","backgroundColor","computed","scrollable","children","length","navStyle","borderColor","currentName","activeTab","computedName","offsetTopPx","scrollOffset","tabHeight","watch","name","setCurrentIndexByName","_this","setLine","$nextTick","scrollIntoView","stickyFixed","Math","ceil","val","mounted","_this2","init","onReopen","activated","methods","_this3","inited","$refs","wrap","_this4","shouldAnimate","titles","title","left","offsetLeft","offsetWidth","width","transform","transitionDuration","height","borderRadius","matched","filter","tab","defaultIndex","index","setCurrentIndex","newIndex","findAvailableTab","newTab","newName","shouldEmitChange","$emit","diff","disabled","onClick","item","_this5","_this$children$index","interceptor","args","done","scrollToCurrentContent","$router","immediate","nav","to","onSticktScroll","params","isFixed","scrollTo","_this6","_this7","target","el","lockScroll","getCurrentIndexOnScroll","top","render","_this8","_ref","h","arguments","Nav","map","_item$badge","dot","badge","info","titleStyle","titleClass","_default","slots","click","Wrap","complete"],"mappings":"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","sourcesContent":["// Utils\nimport { createNamespace, isDef, addUnit } from '../utils';\nimport { scrollLeftTo, scrollTopTo } from './utils';\nimport { route } from '../utils/router';\nimport { isHidden } from '../utils/dom/style';\nimport { on, off } from '../utils/dom/event';\nimport { unitToPx } from '../utils/format/unit';\nimport { BORDER_TOP_BOTTOM } from '../utils/constant';\nimport { callInterceptor } from '../utils/interceptor';\nimport { getScroller, getVisibleTop, getElementTop, getVisibleHeight, setRootScrollTop } from '../utils/dom/scroll'; // Mixins\n\nimport { ParentMixin } from '../mixins/relation';\nimport { BindEventMixin } from '../mixins/bind-event'; // Components\n\nimport Title from './Title';\nimport Sticky from '../sticky';\nimport Content from './Content';\n\nvar _createNamespace = createNamespace('tabs'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  mixins: [ParentMixin('vanTabs'), BindEventMixin(function (bind) {\n    if (!this.scroller) {\n      this.scroller = getScroller(this.$el);\n    }\n\n    bind(window, 'resize', this.resize, true);\n\n    if (this.scrollspy) {\n      bind(this.scroller, 'scroll', this.onScroll, true);\n    }\n  })],\n  inject: {\n    vanPopup: {\n      default: null\n    }\n  },\n  model: {\n    prop: 'active'\n  },\n  props: {\n    color: String,\n    border: Boolean,\n    sticky: Boolean,\n    animated: Boolean,\n    swipeable: Boolean,\n    scrollspy: Boolean,\n    background: String,\n    lineWidth: [Number, String],\n    lineHeight: [Number, String],\n    beforeChange: Function,\n    titleActiveColor: String,\n    titleInactiveColor: String,\n    type: {\n      type: String,\n      default: 'line'\n    },\n    active: {\n      type: [Number, String],\n      default: 0\n    },\n    ellipsis: {\n      type: Boolean,\n      default: true\n    },\n    duration: {\n      type: [Number, String],\n      default: 0.3\n    },\n    offsetTop: {\n      type: [Number, String],\n      default: 0\n    },\n    lazyRender: {\n      type: Boolean,\n      default: true\n    },\n    swipeThreshold: {\n      type: [Number, String],\n      default: 5\n    }\n  },\n  data: function data() {\n    return {\n      position: '',\n      currentIndex: null,\n      lineStyle: {\n        backgroundColor: this.color\n      }\n    };\n  },\n  computed: {\n    // whether the nav is scrollable\n    scrollable: function scrollable() {\n      return this.children.length > this.swipeThreshold || !this.ellipsis;\n    },\n    navStyle: function navStyle() {\n      return {\n        borderColor: this.color,\n        background: this.background\n      };\n    },\n    currentName: function currentName() {\n      var activeTab = this.children[this.currentIndex];\n\n      if (activeTab) {\n        return activeTab.computedName;\n      }\n    },\n    offsetTopPx: function offsetTopPx() {\n      return unitToPx(this.offsetTop);\n    },\n    scrollOffset: function scrollOffset() {\n      if (this.sticky) {\n        return this.offsetTopPx + this.tabHeight;\n      }\n\n      return 0;\n    }\n  },\n  watch: {\n    color: 'setLine',\n    active: function active(name) {\n      if (name !== this.currentName) {\n        this.setCurrentIndexByName(name);\n      }\n    },\n    children: function children() {\n      var _this = this;\n\n      this.setCurrentIndexByName(this.active);\n      this.setLine();\n      this.$nextTick(function () {\n        _this.scrollIntoView(true);\n      });\n    },\n    currentIndex: function currentIndex() {\n      this.scrollIntoView();\n      this.setLine(); // scroll to correct position\n\n      if (this.stickyFixed && !this.scrollspy) {\n        setRootScrollTop(Math.ceil(getElementTop(this.$el) - this.offsetTopPx));\n      }\n    },\n    scrollspy: function scrollspy(val) {\n      if (val) {\n        on(this.scroller, 'scroll', this.onScroll, true);\n      } else {\n        off(this.scroller, 'scroll', this.onScroll);\n      }\n    }\n  },\n  mounted: function mounted() {\n    var _this2 = this;\n\n    this.init(); // https://github.com/youzan/vant/issues/7959\n\n    if (this.vanPopup) {\n      this.vanPopup.onReopen(function () {\n        _this2.setLine();\n      });\n    }\n  },\n  activated: function activated() {\n    this.init();\n    this.setLine();\n  },\n  methods: {\n    // @exposed-api\n    resize: function resize() {\n      this.setLine();\n    },\n    init: function init() {\n      var _this3 = this;\n\n      this.$nextTick(function () {\n        _this3.inited = true;\n        _this3.tabHeight = getVisibleHeight(_this3.$refs.wrap);\n\n        _this3.scrollIntoView(true);\n      });\n    },\n    // update nav bar style\n    setLine: function setLine() {\n      var _this4 = this;\n\n      var shouldAnimate = this.inited;\n      this.$nextTick(function () {\n        var titles = _this4.$refs.titles;\n\n        if (!titles || !titles[_this4.currentIndex] || _this4.type !== 'line' || isHidden(_this4.$el)) {\n          return;\n        }\n\n        var title = titles[_this4.currentIndex].$el;\n        var lineWidth = _this4.lineWidth,\n            lineHeight = _this4.lineHeight;\n        var left = title.offsetLeft + title.offsetWidth / 2;\n        var lineStyle = {\n          width: addUnit(lineWidth),\n          backgroundColor: _this4.color,\n          transform: \"translateX(\" + left + \"px) translateX(-50%)\"\n        };\n\n        if (shouldAnimate) {\n          lineStyle.transitionDuration = _this4.duration + \"s\";\n        }\n\n        if (isDef(lineHeight)) {\n          var height = addUnit(lineHeight);\n          lineStyle.height = height;\n          lineStyle.borderRadius = height;\n        }\n\n        _this4.lineStyle = lineStyle;\n      });\n    },\n    // correct the index of active tab\n    setCurrentIndexByName: function setCurrentIndexByName(name) {\n      var matched = this.children.filter(function (tab) {\n        return tab.computedName === name;\n      });\n      var defaultIndex = (this.children[0] || {}).index || 0;\n      this.setCurrentIndex(matched.length ? matched[0].index : defaultIndex);\n    },\n    setCurrentIndex: function setCurrentIndex(currentIndex) {\n      var newIndex = this.findAvailableTab(currentIndex);\n\n      if (!isDef(newIndex)) {\n        return;\n      }\n\n      var newTab = this.children[newIndex];\n      var newName = newTab.computedName;\n      var shouldEmitChange = this.currentIndex !== null;\n      this.currentIndex = newIndex;\n\n      if (newName !== this.active) {\n        this.$emit('input', newName);\n\n        if (shouldEmitChange) {\n          this.$emit('change', newName, newTab.title);\n        }\n      }\n    },\n    findAvailableTab: function findAvailableTab(index) {\n      var diff = index < this.currentIndex ? -1 : 1;\n\n      while (index >= 0 && index < this.children.length) {\n        if (!this.children[index].disabled) {\n          return index;\n        }\n\n        index += diff;\n      }\n    },\n    // emit event when clicked\n    onClick: function onClick(item, index) {\n      var _this5 = this;\n\n      var _this$children$index = this.children[index],\n          title = _this$children$index.title,\n          disabled = _this$children$index.disabled,\n          computedName = _this$children$index.computedName;\n\n      if (disabled) {\n        this.$emit('disabled', computedName, title);\n      } else {\n        callInterceptor({\n          interceptor: this.beforeChange,\n          args: [computedName],\n          done: function done() {\n            _this5.setCurrentIndex(index);\n\n            _this5.scrollToCurrentContent();\n          }\n        });\n        this.$emit('click', computedName, title);\n        route(item.$router, item);\n      }\n    },\n    // scroll active tab into view\n    scrollIntoView: function scrollIntoView(immediate) {\n      var titles = this.$refs.titles;\n\n      if (!this.scrollable || !titles || !titles[this.currentIndex]) {\n        return;\n      }\n\n      var nav = this.$refs.nav;\n      var title = titles[this.currentIndex].$el;\n      var to = title.offsetLeft - (nav.offsetWidth - title.offsetWidth) / 2;\n      scrollLeftTo(nav, to, immediate ? 0 : +this.duration);\n    },\n    onSticktScroll: function onSticktScroll(params) {\n      this.stickyFixed = params.isFixed;\n      this.$emit('scroll', params);\n    },\n    // @exposed-api\n    scrollTo: function scrollTo(name) {\n      var _this6 = this;\n\n      this.$nextTick(function () {\n        _this6.setCurrentIndexByName(name);\n\n        _this6.scrollToCurrentContent(true);\n      });\n    },\n    scrollToCurrentContent: function scrollToCurrentContent(immediate) {\n      var _this7 = this;\n\n      if (immediate === void 0) {\n        immediate = false;\n      }\n\n      if (this.scrollspy) {\n        var target = this.children[this.currentIndex];\n        var el = target == null ? void 0 : target.$el;\n\n        if (el) {\n          var to = getElementTop(el, this.scroller) - this.scrollOffset;\n          this.lockScroll = true;\n          scrollTopTo(this.scroller, to, immediate ? 0 : +this.duration, function () {\n            _this7.lockScroll = false;\n          });\n        }\n      }\n    },\n    onScroll: function onScroll() {\n      if (this.scrollspy && !this.lockScroll) {\n        var index = this.getCurrentIndexOnScroll();\n        this.setCurrentIndex(index);\n      }\n    },\n    getCurrentIndexOnScroll: function getCurrentIndexOnScroll() {\n      var children = this.children;\n\n      for (var index = 0; index < children.length; index++) {\n        var top = getVisibleTop(children[index].$el);\n\n        if (top > this.scrollOffset) {\n          return index === 0 ? 0 : index - 1;\n        }\n      }\n\n      return children.length - 1;\n    }\n  },\n  render: function render() {\n    var _this8 = this,\n        _ref;\n\n    var h = arguments[0];\n    var type = this.type,\n        animated = this.animated,\n        scrollable = this.scrollable;\n    var Nav = this.children.map(function (item, index) {\n      var _item$badge;\n\n      return h(Title, {\n        \"ref\": \"titles\",\n        \"refInFor\": true,\n        \"attrs\": {\n          \"type\": type,\n          \"dot\": item.dot,\n          \"info\": (_item$badge = item.badge) != null ? _item$badge : item.info,\n          \"title\": item.title,\n          \"color\": _this8.color,\n          \"isActive\": index === _this8.currentIndex,\n          \"disabled\": item.disabled,\n          \"scrollable\": scrollable,\n          \"activeColor\": _this8.titleActiveColor,\n          \"inactiveColor\": _this8.titleInactiveColor\n        },\n        \"style\": item.titleStyle,\n        \"class\": item.titleClass,\n        \"scopedSlots\": {\n          default: function _default() {\n            return item.slots('title');\n          }\n        },\n        \"on\": {\n          \"click\": function click() {\n            _this8.onClick(item, index);\n          }\n        }\n      });\n    });\n    var Wrap = h(\"div\", {\n      \"ref\": \"wrap\",\n      \"class\": [bem('wrap', {\n        scrollable: scrollable\n      }), (_ref = {}, _ref[BORDER_TOP_BOTTOM] = type === 'line' && this.border, _ref)]\n    }, [h(\"div\", {\n      \"ref\": \"nav\",\n      \"attrs\": {\n        \"role\": \"tablist\"\n      },\n      \"class\": bem('nav', [type, {\n        complete: this.scrollable\n      }]),\n      \"style\": this.navStyle\n    }, [this.slots('nav-left'), Nav, type === 'line' && h(\"div\", {\n      \"class\": bem('line'),\n      \"style\": this.lineStyle\n    }), this.slots('nav-right')])]);\n    return h(\"div\", {\n      \"class\": bem([type])\n    }, [this.sticky ? h(Sticky, {\n      \"attrs\": {\n        \"container\": this.$el,\n        \"offsetTop\": this.offsetTop\n      },\n      \"on\": {\n        \"scroll\": this.onSticktScroll\n      }\n    }, [Wrap]) : Wrap, h(Content, {\n      \"attrs\": {\n        \"count\": this.children.length,\n        \"animated\": animated,\n        \"duration\": this.duration,\n        \"swipeable\": this.swipeable,\n        \"currentIndex\": this.currentIndex\n      },\n      \"on\": {\n        \"change\": this.setCurrentIndex\n      }\n    }, [this.slots()])]);\n  }\n});"]},"metadata":{},"sourceType":"module"}