{"ast":null,"code":"import \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.array.map.js\";\n// Utils\nimport { createNamespace } from '../utils';\nimport { isHidden } from '../utils/dom/style';\nimport { preventDefault } from '../utils/dom/event';\nimport { doubleRaf } from '../utils/dom/raf';\nimport { range } from '../utils/format/number'; // Mixins\n\nimport { TouchMixin } from '../mixins/touch';\nimport { ParentMixin } from '../mixins/relation';\nimport { BindEventMixin } from '../mixins/bind-event';\n\nvar _createNamespace = createNamespace('swipe'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  mixins: [TouchMixin, ParentMixin('vanSwipe'), BindEventMixin(function (bind, isBind) {\n    bind(window, 'resize', this.resize, true);\n    bind(window, 'orientationchange', this.resize, true);\n    bind(window, 'visibilitychange', this.onVisibilityChange);\n\n    if (isBind) {\n      this.initialize();\n    } else {\n      this.clear();\n    }\n  })],\n  props: {\n    width: [Number, String],\n    height: [Number, String],\n    autoplay: [Number, String],\n    vertical: Boolean,\n    lazyRender: Boolean,\n    indicatorColor: String,\n    loop: {\n      type: Boolean,\n      default: true\n    },\n    duration: {\n      type: [Number, String],\n      default: 500\n    },\n    touchable: {\n      type: Boolean,\n      default: true\n    },\n    initialSwipe: {\n      type: [Number, String],\n      default: 0\n    },\n    showIndicators: {\n      type: Boolean,\n      default: true\n    },\n    stopPropagation: {\n      type: Boolean,\n      default: true\n    }\n  },\n  data: function data() {\n    return {\n      rect: null,\n      offset: 0,\n      active: 0,\n      deltaX: 0,\n      deltaY: 0,\n      swiping: false,\n      computedWidth: 0,\n      computedHeight: 0\n    };\n  },\n  watch: {\n    children: function children() {\n      this.initialize();\n    },\n    initialSwipe: function initialSwipe() {\n      this.initialize();\n    },\n    autoplay: function autoplay(_autoplay) {\n      if (_autoplay > 0) {\n        this.autoPlay();\n      } else {\n        this.clear();\n      }\n    }\n  },\n  computed: {\n    count: function count() {\n      return this.children.length;\n    },\n    maxCount: function maxCount() {\n      return Math.ceil(Math.abs(this.minOffset) / this.size);\n    },\n    delta: function delta() {\n      return this.vertical ? this.deltaY : this.deltaX;\n    },\n    size: function size() {\n      return this[this.vertical ? 'computedHeight' : 'computedWidth'];\n    },\n    trackSize: function trackSize() {\n      return this.count * this.size;\n    },\n    activeIndicator: function activeIndicator() {\n      return (this.active + this.count) % this.count;\n    },\n    isCorrectDirection: function isCorrectDirection() {\n      var expect = this.vertical ? 'vertical' : 'horizontal';\n      return this.direction === expect;\n    },\n    trackStyle: function trackStyle() {\n      var style = {\n        transitionDuration: (this.swiping ? 0 : this.duration) + \"ms\",\n        transform: \"translate\" + (this.vertical ? 'Y' : 'X') + \"(\" + this.offset + \"px)\"\n      };\n\n      if (this.size) {\n        var mainAxis = this.vertical ? 'height' : 'width';\n        var crossAxis = this.vertical ? 'width' : 'height';\n        style[mainAxis] = this.trackSize + \"px\";\n        style[crossAxis] = this[crossAxis] ? this[crossAxis] + \"px\" : '';\n      }\n\n      return style;\n    },\n    indicatorStyle: function indicatorStyle() {\n      return {\n        backgroundColor: this.indicatorColor\n      };\n    },\n    minOffset: function minOffset() {\n      return (this.vertical ? this.rect.height : this.rect.width) - this.size * this.count;\n    }\n  },\n  mounted: function mounted() {\n    this.bindTouchEvent(this.$refs.track);\n  },\n  methods: {\n    // initialize swipe position\n    initialize: function initialize(active) {\n      if (active === void 0) {\n        active = +this.initialSwipe;\n      }\n\n      if (!this.$el || isHidden(this.$el)) {\n        return;\n      }\n\n      clearTimeout(this.timer);\n      var rect = {\n        width: this.$el.offsetWidth,\n        height: this.$el.offsetHeight\n      };\n      this.rect = rect;\n      this.swiping = true;\n      this.active = active;\n      this.computedWidth = +this.width || rect.width;\n      this.computedHeight = +this.height || rect.height;\n      this.offset = this.getTargetOffset(active);\n      this.children.forEach(function (swipe) {\n        swipe.offset = 0;\n      });\n      this.autoPlay();\n    },\n    // @exposed-api\n    resize: function resize() {\n      this.initialize(this.activeIndicator);\n    },\n    onVisibilityChange: function onVisibilityChange() {\n      if (document.hidden) {\n        this.clear();\n      } else {\n        this.autoPlay();\n      }\n    },\n    onTouchStart: function onTouchStart(event) {\n      if (!this.touchable) return;\n      this.clear();\n      this.touchStartTime = Date.now();\n      this.touchStart(event);\n      this.correctPosition();\n    },\n    onTouchMove: function onTouchMove(event) {\n      if (!this.touchable || !this.swiping) return;\n      this.touchMove(event);\n\n      if (this.isCorrectDirection) {\n        preventDefault(event, this.stopPropagation);\n        this.move({\n          offset: this.delta\n        });\n      }\n    },\n    onTouchEnd: function onTouchEnd() {\n      if (!this.touchable || !this.swiping) return;\n      var size = this.size,\n          delta = this.delta;\n      var duration = Date.now() - this.touchStartTime;\n      var speed = delta / duration;\n      var shouldSwipe = Math.abs(speed) > 0.25 || Math.abs(delta) > size / 2;\n\n      if (shouldSwipe && this.isCorrectDirection) {\n        var offset = this.vertical ? this.offsetY : this.offsetX;\n        var pace = 0;\n\n        if (this.loop) {\n          pace = offset > 0 ? delta > 0 ? -1 : 1 : 0;\n        } else {\n          pace = -Math[delta > 0 ? 'ceil' : 'floor'](delta / size);\n        }\n\n        this.move({\n          pace: pace,\n          emitChange: true\n        });\n      } else if (delta) {\n        this.move({\n          pace: 0\n        });\n      }\n\n      this.swiping = false;\n      this.autoPlay();\n    },\n    getTargetActive: function getTargetActive(pace) {\n      var active = this.active,\n          count = this.count,\n          maxCount = this.maxCount;\n\n      if (pace) {\n        if (this.loop) {\n          return range(active + pace, -1, count);\n        }\n\n        return range(active + pace, 0, maxCount);\n      }\n\n      return active;\n    },\n    getTargetOffset: function getTargetOffset(targetActive, offset) {\n      if (offset === void 0) {\n        offset = 0;\n      }\n\n      var currentPosition = targetActive * this.size;\n\n      if (!this.loop) {\n        currentPosition = Math.min(currentPosition, -this.minOffset);\n      }\n\n      var targetOffset = offset - currentPosition;\n\n      if (!this.loop) {\n        targetOffset = range(targetOffset, this.minOffset, 0);\n      }\n\n      return targetOffset;\n    },\n    move: function move(_ref) {\n      var _ref$pace = _ref.pace,\n          pace = _ref$pace === void 0 ? 0 : _ref$pace,\n          _ref$offset = _ref.offset,\n          offset = _ref$offset === void 0 ? 0 : _ref$offset,\n          emitChange = _ref.emitChange;\n      var loop = this.loop,\n          count = this.count,\n          active = this.active,\n          children = this.children,\n          trackSize = this.trackSize,\n          minOffset = this.minOffset;\n\n      if (count <= 1) {\n        return;\n      }\n\n      var targetActive = this.getTargetActive(pace);\n      var targetOffset = this.getTargetOffset(targetActive, offset); // auto move first and last swipe in loop mode\n\n      if (loop) {\n        if (children[0] && targetOffset !== minOffset) {\n          var outRightBound = targetOffset < minOffset;\n          children[0].offset = outRightBound ? trackSize : 0;\n        }\n\n        if (children[count - 1] && targetOffset !== 0) {\n          var outLeftBound = targetOffset > 0;\n          children[count - 1].offset = outLeftBound ? -trackSize : 0;\n        }\n      }\n\n      this.active = targetActive;\n      this.offset = targetOffset;\n\n      if (emitChange && targetActive !== active) {\n        this.$emit('change', this.activeIndicator);\n      }\n    },\n    // @exposed-api\n    prev: function prev() {\n      var _this = this;\n\n      this.correctPosition();\n      this.resetTouchStatus();\n      doubleRaf(function () {\n        _this.swiping = false;\n\n        _this.move({\n          pace: -1,\n          emitChange: true\n        });\n      });\n    },\n    // @exposed-api\n    next: function next() {\n      var _this2 = this;\n\n      this.correctPosition();\n      this.resetTouchStatus();\n      doubleRaf(function () {\n        _this2.swiping = false;\n\n        _this2.move({\n          pace: 1,\n          emitChange: true\n        });\n      });\n    },\n    // @exposed-api\n    swipeTo: function swipeTo(index, options) {\n      var _this3 = this;\n\n      if (options === void 0) {\n        options = {};\n      }\n\n      this.correctPosition();\n      this.resetTouchStatus();\n      doubleRaf(function () {\n        var targetIndex;\n\n        if (_this3.loop && index === _this3.count) {\n          targetIndex = _this3.active === 0 ? 0 : index;\n        } else {\n          targetIndex = index % _this3.count;\n        }\n\n        if (options.immediate) {\n          doubleRaf(function () {\n            _this3.swiping = false;\n          });\n        } else {\n          _this3.swiping = false;\n        }\n\n        _this3.move({\n          pace: targetIndex - _this3.active,\n          emitChange: true\n        });\n      });\n    },\n    correctPosition: function correctPosition() {\n      this.swiping = true;\n\n      if (this.active <= -1) {\n        this.move({\n          pace: this.count\n        });\n      }\n\n      if (this.active >= this.count) {\n        this.move({\n          pace: -this.count\n        });\n      }\n    },\n    clear: function clear() {\n      clearTimeout(this.timer);\n    },\n    autoPlay: function autoPlay() {\n      var _this4 = this;\n\n      var autoplay = this.autoplay;\n\n      if (autoplay > 0 && this.count > 1) {\n        this.clear();\n        this.timer = setTimeout(function () {\n          _this4.next();\n\n          _this4.autoPlay();\n        }, autoplay);\n      }\n    },\n    genIndicator: function genIndicator() {\n      var _this5 = this;\n\n      var h = this.$createElement;\n      var count = this.count,\n          activeIndicator = this.activeIndicator;\n      var slot = this.slots('indicator');\n\n      if (slot) {\n        return slot;\n      }\n\n      if (this.showIndicators && count > 1) {\n        return h(\"div\", {\n          \"class\": bem('indicators', {\n            vertical: this.vertical\n          })\n        }, [Array.apply(void 0, Array(count)).map(function (empty, index) {\n          return h(\"i\", {\n            \"class\": bem('indicator', {\n              active: index === activeIndicator\n            }),\n            \"style\": index === activeIndicator ? _this5.indicatorStyle : null\n          });\n        })]);\n      }\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    return h(\"div\", {\n      \"class\": bem()\n    }, [h(\"div\", {\n      \"ref\": \"track\",\n      \"style\": this.trackStyle,\n      \"class\": bem('track', {\n        vertical: this.vertical\n      })\n    }, [this.slots()]), this.genIndicator()]);\n  }\n});","map":{"version":3,"sources":["C:/Users/Lisp/Desktop/items/node_modules/vant/es/swipe/index.js"],"names":["createNamespace","isHidden","preventDefault","doubleRaf","range","TouchMixin","ParentMixin","BindEventMixin","_createNamespace","createComponent","bem","mixins","bind","isBind","window","resize","onVisibilityChange","initialize","clear","props","width","Number","String","height","autoplay","vertical","Boolean","lazyRender","indicatorColor","loop","type","default","duration","touchable","initialSwipe","showIndicators","stopPropagation","data","rect","offset","active","deltaX","deltaY","swiping","computedWidth","computedHeight","watch","children","_autoplay","autoPlay","computed","count","length","maxCount","Math","ceil","abs","minOffset","size","delta","trackSize","activeIndicator","isCorrectDirection","expect","direction","trackStyle","style","transitionDuration","transform","mainAxis","crossAxis","indicatorStyle","backgroundColor","mounted","bindTouchEvent","$refs","track","methods","$el","clearTimeout","timer","offsetWidth","offsetHeight","getTargetOffset","forEach","swipe","document","hidden","onTouchStart","event","touchStartTime","Date","now","touchStart","correctPosition","onTouchMove","touchMove","move","onTouchEnd","speed","shouldSwipe","offsetY","offsetX","pace","emitChange","getTargetActive","targetActive","currentPosition","min","targetOffset","_ref","_ref$pace","_ref$offset","outRightBound","outLeftBound","$emit","prev","_this","resetTouchStatus","next","_this2","swipeTo","index","options","_this3","targetIndex","immediate","_this4","setTimeout","genIndicator","_this5","h","$createElement","slot","slots","Array","apply","map","empty","render","arguments"],"mappings":"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","sourcesContent":["// Utils\nimport { createNamespace } from '../utils';\nimport { isHidden } from '../utils/dom/style';\nimport { preventDefault } from '../utils/dom/event';\nimport { doubleRaf } from '../utils/dom/raf';\nimport { range } from '../utils/format/number'; // Mixins\n\nimport { TouchMixin } from '../mixins/touch';\nimport { ParentMixin } from '../mixins/relation';\nimport { BindEventMixin } from '../mixins/bind-event';\n\nvar _createNamespace = createNamespace('swipe'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  mixins: [TouchMixin, ParentMixin('vanSwipe'), BindEventMixin(function (bind, isBind) {\n    bind(window, 'resize', this.resize, true);\n    bind(window, 'orientationchange', this.resize, true);\n    bind(window, 'visibilitychange', this.onVisibilityChange);\n\n    if (isBind) {\n      this.initialize();\n    } else {\n      this.clear();\n    }\n  })],\n  props: {\n    width: [Number, String],\n    height: [Number, String],\n    autoplay: [Number, String],\n    vertical: Boolean,\n    lazyRender: Boolean,\n    indicatorColor: String,\n    loop: {\n      type: Boolean,\n      default: true\n    },\n    duration: {\n      type: [Number, String],\n      default: 500\n    },\n    touchable: {\n      type: Boolean,\n      default: true\n    },\n    initialSwipe: {\n      type: [Number, String],\n      default: 0\n    },\n    showIndicators: {\n      type: Boolean,\n      default: true\n    },\n    stopPropagation: {\n      type: Boolean,\n      default: true\n    }\n  },\n  data: function data() {\n    return {\n      rect: null,\n      offset: 0,\n      active: 0,\n      deltaX: 0,\n      deltaY: 0,\n      swiping: false,\n      computedWidth: 0,\n      computedHeight: 0\n    };\n  },\n  watch: {\n    children: function children() {\n      this.initialize();\n    },\n    initialSwipe: function initialSwipe() {\n      this.initialize();\n    },\n    autoplay: function autoplay(_autoplay) {\n      if (_autoplay > 0) {\n        this.autoPlay();\n      } else {\n        this.clear();\n      }\n    }\n  },\n  computed: {\n    count: function count() {\n      return this.children.length;\n    },\n    maxCount: function maxCount() {\n      return Math.ceil(Math.abs(this.minOffset) / this.size);\n    },\n    delta: function delta() {\n      return this.vertical ? this.deltaY : this.deltaX;\n    },\n    size: function size() {\n      return this[this.vertical ? 'computedHeight' : 'computedWidth'];\n    },\n    trackSize: function trackSize() {\n      return this.count * this.size;\n    },\n    activeIndicator: function activeIndicator() {\n      return (this.active + this.count) % this.count;\n    },\n    isCorrectDirection: function isCorrectDirection() {\n      var expect = this.vertical ? 'vertical' : 'horizontal';\n      return this.direction === expect;\n    },\n    trackStyle: function trackStyle() {\n      var style = {\n        transitionDuration: (this.swiping ? 0 : this.duration) + \"ms\",\n        transform: \"translate\" + (this.vertical ? 'Y' : 'X') + \"(\" + this.offset + \"px)\"\n      };\n\n      if (this.size) {\n        var mainAxis = this.vertical ? 'height' : 'width';\n        var crossAxis = this.vertical ? 'width' : 'height';\n        style[mainAxis] = this.trackSize + \"px\";\n        style[crossAxis] = this[crossAxis] ? this[crossAxis] + \"px\" : '';\n      }\n\n      return style;\n    },\n    indicatorStyle: function indicatorStyle() {\n      return {\n        backgroundColor: this.indicatorColor\n      };\n    },\n    minOffset: function minOffset() {\n      return (this.vertical ? this.rect.height : this.rect.width) - this.size * this.count;\n    }\n  },\n  mounted: function mounted() {\n    this.bindTouchEvent(this.$refs.track);\n  },\n  methods: {\n    // initialize swipe position\n    initialize: function initialize(active) {\n      if (active === void 0) {\n        active = +this.initialSwipe;\n      }\n\n      if (!this.$el || isHidden(this.$el)) {\n        return;\n      }\n\n      clearTimeout(this.timer);\n      var rect = {\n        width: this.$el.offsetWidth,\n        height: this.$el.offsetHeight\n      };\n      this.rect = rect;\n      this.swiping = true;\n      this.active = active;\n      this.computedWidth = +this.width || rect.width;\n      this.computedHeight = +this.height || rect.height;\n      this.offset = this.getTargetOffset(active);\n      this.children.forEach(function (swipe) {\n        swipe.offset = 0;\n      });\n      this.autoPlay();\n    },\n    // @exposed-api\n    resize: function resize() {\n      this.initialize(this.activeIndicator);\n    },\n    onVisibilityChange: function onVisibilityChange() {\n      if (document.hidden) {\n        this.clear();\n      } else {\n        this.autoPlay();\n      }\n    },\n    onTouchStart: function onTouchStart(event) {\n      if (!this.touchable) return;\n      this.clear();\n      this.touchStartTime = Date.now();\n      this.touchStart(event);\n      this.correctPosition();\n    },\n    onTouchMove: function onTouchMove(event) {\n      if (!this.touchable || !this.swiping) return;\n      this.touchMove(event);\n\n      if (this.isCorrectDirection) {\n        preventDefault(event, this.stopPropagation);\n        this.move({\n          offset: this.delta\n        });\n      }\n    },\n    onTouchEnd: function onTouchEnd() {\n      if (!this.touchable || !this.swiping) return;\n      var size = this.size,\n          delta = this.delta;\n      var duration = Date.now() - this.touchStartTime;\n      var speed = delta / duration;\n      var shouldSwipe = Math.abs(speed) > 0.25 || Math.abs(delta) > size / 2;\n\n      if (shouldSwipe && this.isCorrectDirection) {\n        var offset = this.vertical ? this.offsetY : this.offsetX;\n        var pace = 0;\n\n        if (this.loop) {\n          pace = offset > 0 ? delta > 0 ? -1 : 1 : 0;\n        } else {\n          pace = -Math[delta > 0 ? 'ceil' : 'floor'](delta / size);\n        }\n\n        this.move({\n          pace: pace,\n          emitChange: true\n        });\n      } else if (delta) {\n        this.move({\n          pace: 0\n        });\n      }\n\n      this.swiping = false;\n      this.autoPlay();\n    },\n    getTargetActive: function getTargetActive(pace) {\n      var active = this.active,\n          count = this.count,\n          maxCount = this.maxCount;\n\n      if (pace) {\n        if (this.loop) {\n          return range(active + pace, -1, count);\n        }\n\n        return range(active + pace, 0, maxCount);\n      }\n\n      return active;\n    },\n    getTargetOffset: function getTargetOffset(targetActive, offset) {\n      if (offset === void 0) {\n        offset = 0;\n      }\n\n      var currentPosition = targetActive * this.size;\n\n      if (!this.loop) {\n        currentPosition = Math.min(currentPosition, -this.minOffset);\n      }\n\n      var targetOffset = offset - currentPosition;\n\n      if (!this.loop) {\n        targetOffset = range(targetOffset, this.minOffset, 0);\n      }\n\n      return targetOffset;\n    },\n    move: function move(_ref) {\n      var _ref$pace = _ref.pace,\n          pace = _ref$pace === void 0 ? 0 : _ref$pace,\n          _ref$offset = _ref.offset,\n          offset = _ref$offset === void 0 ? 0 : _ref$offset,\n          emitChange = _ref.emitChange;\n      var loop = this.loop,\n          count = this.count,\n          active = this.active,\n          children = this.children,\n          trackSize = this.trackSize,\n          minOffset = this.minOffset;\n\n      if (count <= 1) {\n        return;\n      }\n\n      var targetActive = this.getTargetActive(pace);\n      var targetOffset = this.getTargetOffset(targetActive, offset); // auto move first and last swipe in loop mode\n\n      if (loop) {\n        if (children[0] && targetOffset !== minOffset) {\n          var outRightBound = targetOffset < minOffset;\n          children[0].offset = outRightBound ? trackSize : 0;\n        }\n\n        if (children[count - 1] && targetOffset !== 0) {\n          var outLeftBound = targetOffset > 0;\n          children[count - 1].offset = outLeftBound ? -trackSize : 0;\n        }\n      }\n\n      this.active = targetActive;\n      this.offset = targetOffset;\n\n      if (emitChange && targetActive !== active) {\n        this.$emit('change', this.activeIndicator);\n      }\n    },\n    // @exposed-api\n    prev: function prev() {\n      var _this = this;\n\n      this.correctPosition();\n      this.resetTouchStatus();\n      doubleRaf(function () {\n        _this.swiping = false;\n\n        _this.move({\n          pace: -1,\n          emitChange: true\n        });\n      });\n    },\n    // @exposed-api\n    next: function next() {\n      var _this2 = this;\n\n      this.correctPosition();\n      this.resetTouchStatus();\n      doubleRaf(function () {\n        _this2.swiping = false;\n\n        _this2.move({\n          pace: 1,\n          emitChange: true\n        });\n      });\n    },\n    // @exposed-api\n    swipeTo: function swipeTo(index, options) {\n      var _this3 = this;\n\n      if (options === void 0) {\n        options = {};\n      }\n\n      this.correctPosition();\n      this.resetTouchStatus();\n      doubleRaf(function () {\n        var targetIndex;\n\n        if (_this3.loop && index === _this3.count) {\n          targetIndex = _this3.active === 0 ? 0 : index;\n        } else {\n          targetIndex = index % _this3.count;\n        }\n\n        if (options.immediate) {\n          doubleRaf(function () {\n            _this3.swiping = false;\n          });\n        } else {\n          _this3.swiping = false;\n        }\n\n        _this3.move({\n          pace: targetIndex - _this3.active,\n          emitChange: true\n        });\n      });\n    },\n    correctPosition: function correctPosition() {\n      this.swiping = true;\n\n      if (this.active <= -1) {\n        this.move({\n          pace: this.count\n        });\n      }\n\n      if (this.active >= this.count) {\n        this.move({\n          pace: -this.count\n        });\n      }\n    },\n    clear: function clear() {\n      clearTimeout(this.timer);\n    },\n    autoPlay: function autoPlay() {\n      var _this4 = this;\n\n      var autoplay = this.autoplay;\n\n      if (autoplay > 0 && this.count > 1) {\n        this.clear();\n        this.timer = setTimeout(function () {\n          _this4.next();\n\n          _this4.autoPlay();\n        }, autoplay);\n      }\n    },\n    genIndicator: function genIndicator() {\n      var _this5 = this;\n\n      var h = this.$createElement;\n      var count = this.count,\n          activeIndicator = this.activeIndicator;\n      var slot = this.slots('indicator');\n\n      if (slot) {\n        return slot;\n      }\n\n      if (this.showIndicators && count > 1) {\n        return h(\"div\", {\n          \"class\": bem('indicators', {\n            vertical: this.vertical\n          })\n        }, [Array.apply(void 0, Array(count)).map(function (empty, index) {\n          return h(\"i\", {\n            \"class\": bem('indicator', {\n              active: index === activeIndicator\n            }),\n            \"style\": index === activeIndicator ? _this5.indicatorStyle : null\n          });\n        })]);\n      }\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    return h(\"div\", {\n      \"class\": bem()\n    }, [h(\"div\", {\n      \"ref\": \"track\",\n      \"style\": this.trackStyle,\n      \"class\": bem('track', {\n        vertical: this.vertical\n      })\n    }, [this.slots()]), this.genIndicator()]);\n  }\n});"]},"metadata":{},"sourceType":"module"}